import{_ as G,c as J,A as Q,a as X,b as Y}from"./bjYUlWTB.js";import{_ as tt}from"./xP_FI6Hc.js";import{x as E,y as B,z,S as V,g as W,c as T,o as i,b as A,B as t,F as k,N as x,f as $,E as f,_ as H,aq as et,ar as ot,r as R,U as D,a6 as Z,L as nt,as as st,w as j,at,v as F,K as ct,a as M,C as P,V as it,Z as rt,a2 as lt,W as ut}from"./CTswnhzI.js";import{w as _t,u as pt,a as mt,j as dt}from"./DMUw1IQO.js";import{T as vt}from"./C8jxHRRC.js";import{t as K}from"./DoPFN-g4.js";import{u as ft}from"./B62u8JIZ.js";const yt=E({__name:"TopicNav",async setup(L){let o,r;const u=([o,r]=B(()=>z("article","summary","practice")),o=await o,r(),o),s=V(),a=W(()=>s.value.location.type);return(_,y)=>{var e,d,v,l,w,N,m,O;const p=G;return i(),T("section",{class:f(_.$style.topicNav)},[A(p,{title:(d=(e=t(s).nav)==null?void 0:e.previous)==null?void 0:d.title,link:(l=(v=t(s).nav)==null?void 0:v.previous)==null?void 0:l.link,icon:"arrow-left"},null,8,["title","link"]),(i(!0),T(k,null,x(t(_t),c=>{var n;return i(),$(p,{title:t(u)[c],icon:t(vt)[c],link:(n=t(s).nav)==null?void 0:n[c],active:c===t(a)},null,8,["title","icon","link","active"])}),256)),A(p,{title:(N=(w=t(s).nav)==null?void 0:w.next)==null?void 0:N.title,link:(O=(m=t(s).nav)==null?void 0:m.next)==null?void 0:O.link,icon:"arrow-left",class:"icon-flip-h"},null,8,["title","link"])],2)}}}),Tt="_topicNav_1gv1v_1",bt={topicNav:Tt},gt={$style:bt},It=Object.assign(H(yt,[["__cssModules",gt]]),{__name:"AsideMinorTopicNav"}),$t=E({__name:"TopicTocItem",props:{tocItem:{},active:{type:Boolean}},async setup(L){let o,r;const u=L,s=u.tocItem.productName,a=([o,r]=B(()=>pt(s)),o=await o,r(),o),_=([o,r]=B(()=>mt(s)),o=await o,r(),o),y=ft();function p(e){ot({query:{element:u.tocItem.id}}),e.preventDefault(),e.stopPropagation()}return(e,d)=>{const v=et;return i(),$(v,{label:t(y)(e.tocItem.title||t(_)("_element_title")),level:e.tocItem.level,link:`?element=${e.tocItem.id}`,svg:t(a),active:e.active,onClick:p},null,8,["label","level","link","svg","active"])}}}),wt=Object.assign($t,{__name:"AsideMinorTopicTocItem"}),ht=E({__name:"TopicToc",async setup(L){let o,r;const u=V(),s=([o,r]=B(()=>z("empty_toc")),o=await o,r(),o),a=R([]),_=R(0);D(u,y),y();function y(){const c=[];for(let n=0;n<u.value.toc.length;n++)c.push({...u.value.toc[n],_active:0,_position:n});a.value=c,_.value++}let p=null,e={};const d=["DOMContentLoaded","load","resize","scroll"];let v=[],l=null;function w(){var c;for(const n of d)window.removeEventListener(n,m);if(v=[],l=null,e={},p&&(p.disconnect(),p=null),(c=a.value)!=null&&c.length)for(const n of a.value)n._active=0}function N(){var c;if((c=a.value)!=null&&c.length){v=a.value.filter(n=>n.productName===dt);for(const n of d)window.addEventListener(n,m);m(),p=new IntersectionObserver(O),e={};for(const n of a.value){const b=n.id;e[b]=n._position;const I=document.getElementById(b);I&&p.observe(I)}}}function m(){var g;function c(h){const C=document.getElementById(h);return C?C.getBoundingClientRect().bottom:1}if(l&&(l._active=l._active===2?2:0,l=null),!((g=a.value)!=null&&g.length)||!v.length)return;let n=0,b=v.length,I=0;for(;n<b;){const h=(n+b)/2|0,S=v[h];c(S.id)<=0?(I=h,n=h+1):b=h}l=v[I],l&&l._active<2&&(l._active=c(l.id)<=0?1:0)}function O(c){var n;for(const b of c){const I=e[b.target.id],g=(n=a.value)==null?void 0:n[I];g&&(g._active=b.isIntersecting?2:g._active===1?1:0)}}return Z(()=>{D([u,K],()=>{w(),!(!u.value.location||!K.value)&&N()},{immediate:!0})}),nt(()=>{w()}),(c,n)=>{var I;const b=st;return i(),T("section",{class:f(c.$style.topicToc)},[((I=t(a))==null?void 0:I.length)>0?(i(),$(b,{key:t(_)},{default:j(()=>[(i(!0),T(k,null,x(t(a),(g,h,S,C)=>{const U=[t(_),g.id,g._active];if(C&&at(C,U))return C;const q=(i(),$(wt,{active:!!g._active,tocItem:g},null,8,["active","tocItem"]));return q.memo=U,q},n,0),256))]),_:1})):(i(),T("div",{key:1,class:f(c.$style.tocEmpty)},F(t(s).empty_toc),3))],2)}}}),Ct="_topicToc_x3foy_1",Mt="_tocEmpty_x3foy_21",kt={topicToc:Ct,tocEmpty:Mt},At={$style:kt},Nt=Object.assign(H(ht,[["__cssModules",At]]),{__name:"AsideMinorTopicToc"}),Lt=4,xt=E({__name:"TopicContributors",async setup(L){let o,r;const u=([o,r]=B(()=>z("contributors")),o=await o,r(),o),s=V(),a=R(!1),_=ct(),y=W(()=>{const e=Math.min(Lt,s.value.contributors.length);return{showcase:e,rest:s.value.contributors.length-e}});let p;return Z(()=>{D(s,()=>{p!==s.value.topicId&&(p=s.value.topicId,_.value=[...s.value.contributors].sort(()=>.5-Math.random()).slice(0,y.value.showcase),a.value=!1)},{immediate:!0})}),(e,d)=>{const v=J,l=X,w=rt,N=lt;return i(),T(k,null,[M("section",{class:f(e.$style.topicContributors),onClick:d[0]||(d[0]=m=>a.value=!0)},[M("div",{class:f(e.$style.showcase)},[t(_)?(i(!0),T(k,{key:0},x(t(_),m=>(i(),$(v,{contributorId:m.contributorId,avatar:m.avatar,class:f(e.$style.avatar)},null,8,["contributorId","avatar","class"]))),256)):(i(),T(k,{key:1},[t(_)?P("",!0):(i(!0),T(k,{key:0},x(t(y).showcase,m=>(i(),T("div",{class:f(e.$style.avatarReplacer)},null,2))),256))],64))],2),t(y).rest?(i(),T("div",{key:0,class:f(e.$style.restCounter)}," + "+F(t(y).rest),3)):P("",!0)],2),A(N,null,{default:j(()=>[t(a)?(i(),$(Q,{key:0,stick:"bottom"},{default:j(()=>[M("div",{class:f(e.$style.paneList)},[(i(!0),T(k,null,x(t(s).contributors,m=>(i(),$(l,it({ref_for:!0},m),null,16))),256))],2),M("div",{class:f(e.$style.paneFooter)},[M("span",null,F(t(u).contributors)+":",1),M("span",{class:f(e.$style.counter)},F(t(s).contributors.length),3),d[2]||(d[2]=M("span",{style:{flex:"1"}},null,-1)),A(w,{name:"cross",class:f(e.$style.close),onClick:d[1]||(d[1]=m=>a.value=!1)},null,8,["class"])],2)]),_:1})):P("",!0)]),_:1})],64)}}}),Bt="_topicContributors_1sldn_1",Et="_showcase_1sldn_16",Ot="_avatar_1sldn_20",Ft="_avatarReplacer_1sldn_21",Pt="_restCounter_1sldn_31",Rt="_paneList_1sldn_45",Dt="_paneFooter_1sldn_67",jt="_counter_1sldn_77",Vt="_close_1sldn_80",Ht={topicContributors:Bt,showcase:Et,avatar:Ot,avatarReplacer:Ft,restCounter:Pt,paneList:Rt,paneFooter:Dt,counter:jt,close:Vt},St={$style:Ht},zt=Object.assign(H(xt,[["__cssModules",St]]),{__name:"AsideMinorTopicContributors"}),Ut=E({__name:"AsideMinorTopic",setup(L){const o=V(),r=R(!1);return D(o,()=>r.value=!1),(u,s)=>{const a=Y,_=tt;return i(),$(_,{class:f(u.$style.asideMinorTopic)},{default:j(()=>[A(It),A(Nt),t(o).contributors?(i(),$(zt,{key:0})):P("",!0),A(a,{contentId:t(o).topicId,pane:t(r),"onUpdate:pane":s[0]||(s[0]=y=>ut(r)?r.value=y:null)},null,8,["contentId","pane"])]),_:1},8,["class"])}}}),qt="_asideMinorTopic_mbkbw_1",Kt={asideMinorTopic:qt},Wt={$style:Kt},ee=Object.assign(H(Ut,[["__cssModules",Wt]]),{__name:"AsideMinorTopic"});export{ee as default};
