import{_ as q,a as H}from"./BLaerNRh.js";import{a as W,_ as X}from"./DP9JDBlP.js";import{z as C,c as d,o as r,E as c,_ as w,n as h,$ as Y,C as n,q as p,s as f,D as k,aa as J,r as I,V as D,e as N,W as V,v as j,Y as K,M as E,b as O,a2 as U,K as T,Q as P,A as L,B as S,aV as Z,X as x,b5 as ee,aG as ne}from"./BECuGpJR.js";import{s as G,_ as te,d as se}from"./BeLyMF7Z.js";import{_ as oe}from"./9HCJ3JpI.js";import{_ as ae}from"./DgP-0bJn.js";import{R as re,u as ce,a as ie,C as le,b as _e,c as ue,_ as pe}from"./DIQTotNF.js";import{T as F}from"./Y-FKJjpV.js";import{u as me}from"./DqZFkF5A.js";const de=C({__name:"MainTopicQuickLinks",props:{links:{}},setup(g){return(s,t)=>{const a=W;return r(),d(a,{links:s.links,class:c(s.$style.topicQuickLinks)},null,8,["links","class"])}}}),fe="_topicQuickLinks_1x8t8_1",ye={topicQuickLinks:fe},ke={$style:ye},ge=Object.assign(w(de,[["__cssModules",ke]]),{__name:"MainTopicQuickLinks"}),$e=["href"],he=["innerHTML"],Ce=["href"],ve=C({__name:"MainCameoData",props:{data:{},hasMultipleCameos:{type:Boolean}},emits:["nextCameo"],setup(g,{emit:s}){const t=g,a=s;function u(e){const l=e.avatars;if(!l||l.length===0)throw new Error(`No avatars available for the cameo with ID: ${e.cameoId}`);const $=l[Math.floor(Math.random()*l.length)];let v=se($,"image","video");return{url:$,type:v}}const{url:i}=u(t.data),y=t.data.messages[Math.floor(Math.random()*t.data.messages.length)];return(e,l)=>{const $=te,v=J,o=D,_=V;return r(),h("div",{class:c(e.$style.cameoData),style:Y({"--cameoColor":e.data.color??("stringColor"in e?e.stringColor:n(G))(e.data.cameoId)})},[p("a",{href:e.data.link,class:c(e.$style.avatar),target:"_blank"},[f($,{src:n(i),color:e.data.color??("stringColor"in e?e.stringColor:n(G))(e.data.cameoId),styling:{glow:!0,border:!0}},null,8,["src","color"])],10,$e),p("div",{class:c(e.$style.info)},[p("div",{class:c(e.$style.triangleBorder)},[p("div",{class:c(e.$style.triangle)},null,2)],2),p("div",{class:c(e.$style.message),innerHTML:n(y)},null,10,he),p("footer",null,[e.data.icon?(r(),d(v,{key:0,name:"cameo-icon",svg:e.data.icon,class:c(e.$style.icon)},null,8,["svg","class"])):k("",!0),p("a",{class:c(e.$style.name),href:e.data.link,target:"_blank"},I(e.data.name),11,Ce),e.data.link?(r(),d(o,{key:1,class:c(e.$style.external),name:"link-external"},null,8,["class"])):k("",!0),l[1]||(l[1]=p("span",{style:{flex:1}},null,-1)),p("span",{class:c(e.$style.actions)},[n(N).sponsors?(r(),d(_,{key:0,to:"/sponsors/"},{default:j(()=>[f(o,{name:"cameo-add"})]),_:1})):k("",!0),e.hasMultipleCameos?(r(),d(o,{key:1,name:"arrow-left",onClick:l[0]||(l[0]=m=>a("nextCameo")),style:{transform:"scale(-1)"}})):k("",!0)],2)])],2)],6)}}}),Me="_cameoData_ywijk_1",we="_avatar_ywijk_11",be="_info_ywijk_19",je="_message_ywijk_46",Le="_icon_ywijk_60",Ie="_name_ywijk_63",Te="_external_ywijk_74",Be="_actions_ywijk_79",Oe="_triangle_ywijk_103",Re="_triangleBorder_ywijk_104",De={cameoData:Me,avatar:we,info:be,message:je,icon:Le,name:Ie,external:Te,actions:Be,triangle:Oe,triangleBorder:Re},Pe={$style:De},Se=Object.assign(w(ve,[["__cssModules",Pe]]),{__name:"MainCameoData"}),R="cameo",Ae=C({__name:"MainCameo",setup(g){const s=K(),t=E(),a=E();async function u(){var o;a.value=(o=s.payload.data)[R]||(o[R]={cameos:Object.fromEntries((await $fetch("/api/cameo/ids",{responseType:"json"})).map(_=>[_,null])),sponsorCameos:Object.fromEntries((await $fetch("/api/sponsor/cameo/ids",{responseType:"json"})).map(_=>[_,null]))}),!(Object.keys(a.value.cameos).length===0&&Object.keys(a.value.sponsorCameos).length===0)&&await $()}function i(){const o=Object.keys(a.value.cameos),_=Object.keys(a.value.sponsorCameos);return[...o.map(m=>({id:m,type:"cameo"})),..._.map(m=>({id:m,type:"sponsor"}))]}function y(o){const _=i();if(_.length===0)return null;const m=o?_.filter(B=>B.id!==o):_,M=m.length>0?m:_,b=Math.floor(Math.random()*M.length);return M[b]}function e(){var _;const o=(_=t.value)==null?void 0:_.cameoId;return y(o)}async function l(o,_){const m=_==="cameo"?a.value.cameos:a.value.sponsorCameos;if(m[o])return m[o];const M=_==="cameo"?`/api/cameo/data/${o}`:`/api/sponsor/cameo/data/${o}`,b=await $fetch(M,{responseType:"json"});return m[o]=b,b}async function $(){const o=e();o&&(t.value=await l(o.id,o.type))}const v=O(()=>a.value?Object.keys(a.value.cameos).length+Object.keys(a.value.sponsorCameos).length>1:!1);return U(u),(o,_)=>{const m=Se;return n(t)?(r(),h("section",{key:0,class:c(o.$style.cameo)},[(r(),d(m,{key:n(t).cameoId,data:n(t),hasMultipleCameos:n(v),onNextCameo:$},null,8,["data","hasMultipleCameos"]))],2)):k("",!0)}}}),Qe="_cameo_xcj7i_1",ze={cameo:Qe},Ee={$style:ze},Ge=Object.assign(w(Ae,[["__cssModules",Ee]]),{__name:"MainCameo"}),Ne=["href"],Ve=C({__name:"ReferenceItem",props:{reference:{}},setup(g){const s=me();return(t,a)=>{const u=D;return r(),h("div",{class:c(t.$style.reference)},[f(u,{name:"arrow-up-to-right",class:c(t.$style.icon)},null,8,["class"]),p("div",{class:c(t.$style.body)},[p("div",{class:c(t.$style.header)},[p("a",{href:t.reference.link,target:"_blank"},I(n(s)(t.reference.title)),9,Ne),t.reference.link?(r(),d(u,{key:0,name:"link-external",class:c(t.$style.linkIcon)},null,8,["class"])):k("",!0)],2),t.reference.description?(r(),h("div",{key:0,class:c(t.$style.description)},I(n(s)(t.reference.description)),3)):k("",!0)],2)],2)}}}),Fe="_reference_1pmwe_1",qe="_icon_1pmwe_7",He="_body_1pmwe_13",We="_header_1pmwe_13",Xe="_linkIcon_1pmwe_30",Ye="_description_1pmwe_38",Je={reference:Fe,icon:qe,body:He,header:We,linkIcon:Xe,description:Ye},Ke={$style:Je},Ue=Object.assign(w(Ve,[["__cssModules",Ke]]),{__name:"MainContentReferenceItem"}),Ze=C({__name:"ReferenceGroup",props:{group:{}},setup(g){return(s,t)=>(r(),h("div",{class:c(s.$style.group)},[f(re,{source:s.group.source},{after:j(()=>[p("div",{class:c(s.$style.references)},[(r(!0),h(T,null,P(s.group.references,a=>(r(),d(Ue,{reference:a},null,8,["reference"]))),256))],2)]),_:1},8,["source"])],2))}}),xe="_group_hwnuy_1",en="_references_hwnuy_7",nn={group:xe,references:en},tn={$style:nn},sn=Object.assign(w(Ze,[["__cssModules",tn]]),{__name:"MainContentReferenceGroup"}),on=C({__name:"ContentReferences",props:{references:{}},async setup(g){let s,t;const a=g,u=O(()=>a.references.reduce((y,e)=>y+(e.references.length||0),0)),i=([s,t]=L(()=>S("references","references_description")),s=await s,t(),s);return(y,e)=>{const l=X;return r(),h(T,null,[f(l,{icon:"link-external",title:n(i).references,count:n(u)},null,8,["title","count"]),p("p",{class:c(y.$style.description)},I(n(i).references_description),3),p("section",{class:c(y.$style.referenceGroups)},[(r(!0),h(T,null,P(y.references,$=>(r(),d(sn,{group:$},null,8,["group"]))),256))],2)],64)}}}),an="_description_vdeir_1",rn="_referenceGroups_vdeir_5",cn={description:an,referenceGroups:rn},ln={$style:cn},_n=Object.assign(w(on,[["__cssModules",ln]]),{__name:"MainContentReferences"}),un=C({__name:"TopicPartSwitch",props:{partLinks:{},active:{}},async setup(g){let s,t;const a=([s,t]=L(()=>S("article","summary","practice")),s=await s,t(),s);return(u,i)=>{const y=D,e=V;return r(),h("section",{class:c(u.$style.topicPartSwitch)},[(r(!0),h(T,null,P(n(Z),l=>(r(),d(e,{prefetch:!1,to:u.partLinks[l],class:c([u.$style.partButton,u.active===l&&u.$style.active,!u.partLinks[l]&&u.$style.noLink])},{default:j(()=>[f(y,{name:n(F)[l]},null,8,["name"]),p("div",{class:c(u.$style.label)},I(n(a)[l]),3)]),_:2},1032,["to","class"]))),256))],2)}}}),pn="_topicPartSwitch_srz9k_1",mn="_partButton_srz9k_15",dn="_active_srz9k_38",fn="_noLink_srz9k_42",yn="_label_srz9k_64",kn={topicPartSwitch:pn,partButton:mn,active:dn,noLink:fn,label:yn},gn={$style:kn},$n=Object.assign(w(un,[["__cssModules",gn]]),{__name:"MainTopicPartSwitch"});function hn(){const g=x();return O(()=>ee(g.path))}const Cn=C({__name:"MainTopic",async setup(g){let s,t;const a=hn(),u=O(()=>{var e;return(e=a.value)==null?void 0:e.type}),i=([s,t]=L(()=>ce()),s=await s,t(),s);[s,t]=L(()=>ie(i)),await s,t();const y=([s,t]=L(()=>S("article","summary","practice")),s=await s,t(),s);return(e,l)=>{var B,A,Q,z;const $=q,v=H,o=ge,_=Ge,m=oe,M=ae,b=pe;return r(),h(T,null,[n(i).generic.decoration?(r(),d(le,{key:0,decoration:n(i).generic.decoration},null,8,["decoration"])):k("",!0),f(_e,{context:n(i).generic.context},null,8,["context"]),f($,{title:((B=n(i).generic)==null?void 0:B.title)||n(i).generic.contentId.split("/").pop(),icon:n(F)[n(a).type],hint:n(y)[n(a).type]},null,8,["title","icon","hint"]),(A=n(i).generic)!=null&&A.description?(r(),d(v,{key:1,description:(Q=n(i).generic)==null?void 0:Q.description},null,8,["description"])):k("",!0),n(i).quickLinks.length?(r(),d(o,{key:2,links:n(i).quickLinks},null,8,["links"])):k("",!0),f(ue,{generic:n(i).generic},null,8,["generic"]),f(_),l[0]||(l[0]=p("div",{style:{clear:"both"}},null,-1)),f(m,{location:n(a)},{header:j(()=>[f($n,{partLinks:n(i).topicPartLinks,active:n(u)},null,8,["partLinks","active"])]),_:1},8,["location"]),n(i).generic.references?(r(),d(M,{key:3},{default:j(()=>[f(_n,{references:n(i).generic.references},null,8,["references"])]),_:1})):k("",!0),("adsAllowed"in e?e.adsAllowed:n(ne))()&&((z=n(N).ads)!=null&&z.bottom)?(r(),d(M,{key:4},{default:j(()=>[f(b)]),_:1})):k("",!0)],64)}}}),On=Object.assign(Cn,{__name:"MainTopic"});export{On as _};
