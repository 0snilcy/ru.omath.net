import{_ as j,a as F}from"./2Sao15Hk.js";import{z,Z as w,b as v,a2 as q,n as r,o,E as a,s as $,q as x,v as C,x as B,r as A,W as K,C as t,K as h,D as u,Q as N,_ as E,A as W,B as O,e as l,a as Q,ap as Z,c as f,$ as G}from"./BECuGpJR.js";import{_ as J,s as R}from"./BeLyMF7Z.js";import{n as U}from"./DP9JDBlP.js";import{u as X}from"./DqZFkF5A.js";import"./BszdK3rz.js";import"./DgP-0bJn.js";import"./Y-FKJjpV.js";const Y=z({__name:"IndexAvatars",props:{label:{},link:{},max:{},icon:{},namesAvatars:{}},setup(b){const i=b,p=w([]),d=w(!1),c=v(()=>Math.max(0,i.namesAvatars.length-i.max));return q(()=>{const e=[...i.namesAvatars];for(let _=e.length-1;_>0;_--){const s=Math.floor(Math.random()*(_+1));[e[_],e[s]]=[e[s],e[_]]}p.value=e.slice(0,i.max),d.value=!0}),(e,_)=>{const s=K,m=J;return o(),r("div",{class:a(e.$style.indexAvatars)},[$(s,{to:e.link,class:a(e.$style.indexAvatarsLabel)},{default:C(()=>[B(A(e.label),1)]),_:1},8,["to","class"]),x("ul",null,[t(d)?(o(),r(h,{key:0},[(o(!0),r(h,null,N(t(p),y=>(o(),r("li",{class:a(e.$style.indexAvatar)},[$(s,{to:e.link},{default:C(()=>[$(m,{class:a(e.$style.indexAvatar),title:y[0],icon:e.icon,src:y[1],color:("stringColor"in e?e.stringColor:t(R))(y[0])},null,8,["class","title","icon","src","color"])]),_:2},1032,["to"])],2))),256)),t(c)>0?(o(),r("li",{key:0,class:a(e.$style.remainingCounter)},[$(s,{to:e.link,class:a(e.$style.counterCircle)},{default:C(()=>[B(" +"+A(t(c)),1)]),_:1},8,["to","class"])],2)):u("",!0)],64)):(o(),r(h,{key:1},[(o(!0),r(h,null,N(Math.min(e.max,e.namesAvatars.length),y=>(o(),r("li",{class:a(e.$style.indexAvatar)},[x("div",{class:a(e.$style.avatarPlaceholder)},null,2)],2))),256)),t(c)>0?(o(),r("li",{key:0,class:a(e.$style.remainingCounter)},[x("div",{class:a(e.$style.counterPlaceholder)},null,2)],2)):u("",!0)],64))])],2)}}}),tt="_indexAvatars_1tp03_1",et="_indexAvatarsLabel_1tp03_7",st="_indexAvatar_1tp03_1",nt="_remainingCounter_1tp03_28",ot="_avatarPlaceholder_1tp03_32",at="_counterPlaceholder_1tp03_33",rt="_counterCircle_1tp03_41",it={indexAvatars:tt,indexAvatarsLabel:et,indexAvatar:st,remainingCounter:nt,avatarPlaceholder:ot,counterPlaceholder:at,counterCircle:rt},lt={$style:it},ct=Object.assign(E(Y,[["__cssModules",lt]]),{__name:"IndexAvatars"}),ut=["src"],dt=z({__name:"index",async setup(b){var M,S,P;let i,p;const d=X(),c=([i,p]=W(()=>O("seo_index_title","seo_index_description","topics","x_contributors","x_sponsors")),i=await i,p(),i),e=d(((M=l.seo)==null?void 0:M.indexTitle)||((S=l.seo)==null?void 0:S.title)||c.seo_index_title),_=d(U(((P=l.seo)==null?void 0:P.indexDescription)||c.seo_index_description));Q({title:e,ogTitle:e,description:_,ogDescription:_});const{data:s}=([i,p]=W(()=>Z("index",()=>$fetch("/api/index/data"))),i=await i,p(),i),m=v(()=>{var n;return(n=l.index)!=null&&n.logotype?{src:l.index.logotype.src,maxWidth:l.index.logotype.maxWidth||"100%",invert:l.index.logotype.invert}:void 0}),y=v(()=>{var n,g,k;return d(((n=l.index)==null?void 0:n.title)||((g=l.seo)==null?void 0:g.title)||((k=l.site)==null?void 0:k.title)||c.seo_index_title)}),D=v(()=>{var n;return(n=l.index)==null?void 0:n.slogan}),H=v(()=>{const n=s.value.elementStats&&s.value.elementStats.length>0,g=s.value.topicCount&&s.value.topicCount>0;return n||g}),L=v(()=>{var n;return(n=l.index)==null?void 0:n.description}),V=v(()=>s.value.contributors.length>0||s.value.sponsors.length>0);return(n,g)=>{const k=j,T=ct,I=F;return o(),r(h,null,[x("header",{class:a(n.$style.indexHeader)},[t(m)?(o(),r("img",{key:0,src:t(m).src,style:G({maxWidth:t(m).maxWidth}),class:a([n.$style.logotype,t(m).invert==="dark"?n.$style.invertDark:"",t(m).invert==="light"?n.$style.invertLight:""])},null,14,ut)):u("",!0),x("h1",{class:a(n.$style.title)},A(t(d)(t(y))),3),t(D)?(o(),r("section",{key:1,class:a(n.$style.slogan)},A(t(d)(t(D))),3)):u("",!0),t(H)?(o(),f(k,{key:2,stats:[{type:"custom",icon:"files",label:t(c).topics,count:t(s).topicCount},...t(s).elementStats],class:a(n.$style.stats)},null,8,["stats","class"])):u("",!0),t(L)?(o(),r("section",{key:3,class:a(n.$style.description)},A(t(d)(t(L))),3)):u("",!0),t(V)?(o(),r("section",{key:4,class:a(n.$style.participants)},[t(s).contributors.length>0?(o(),f(T,{key:0,label:t(c).x_contributors(t(s).contributors.length),link:"/contributors/",max:4,icon:"user",namesAvatars:t(s).contributors},null,8,["label","namesAvatars"])):u("",!0),t(s).sponsors.length>0?(o(),f(T,{key:1,label:t(c).x_sponsors(t(s).sponsors.length),link:"/sponsors/",max:4,icon:"diamond",namesAvatars:t(s).sponsors},null,8,["label","namesAvatars"])):u("",!0)],2)):u("",!0)],2),t(s).contentToc?(o(),f(I,{key:0,toc:t(s).contentToc},null,8,["toc"])):u("",!0)],64)}}}),_t="_indexHeader_3u7n9_1",pt="_logotype_3u7n9_12",mt="_invertDark_3u7n9_17",vt="_invertLight_3u7n9_17",yt="_title_3u7n9_20",gt="_slogan_3u7n9_26",ht="_stats_3u7n9_32",xt="_description_3u7n9_42",At="_participants_3u7n9_45",kt={indexHeader:_t,logotype:pt,invertDark:mt,invertLight:vt,title:yt,slogan:gt,stats:ht,description:xt,participants:At},$t={$style:kt},Tt=E(dt,[["__cssModules",$t]]);export{Tt as default};
