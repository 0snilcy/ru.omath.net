import{a9 as p,z as m,b as c,n as a,o as r,q as v,C as l,E as i,s as y,V as b,K as k,$,_ as w}from"./BECuGpJR.js";const h=["png","jpg","jpeg","gif","webp","avif"],C=["mp4","webm","ogg"];function E(t){var s;const e=(s=t.split(".").pop())==null?void 0:s.toLowerCase();if(e){if(h.includes(e))return"image";if(C.includes(e))return"video"}return"unknown"}function B(t,...e){const s=E(t);if(!e.includes(s))throw new Error(`Invalid file type "${s}" of file "${t}"! Expected one of: ${e.join(", ")}.`);return s}function j(){const t=p();return e=>(e.startsWith("/asset/")||(e="/asset/"+e.replace(/^\/+/,"")),t(e))}const z=["src"],A=["src"],T=m({__name:"Avatar",props:{src:{},icon:{},color:{},styling:{}},setup(t){const e=t,s=j(),n=c(()=>e.src?s(e.src):void 0),_=c(()=>!n.value),g=c(()=>n.value?B(n.value,"image","video"):void 0);return(o,U)=>{var d,u;const f=b;return r(),a("div",{class:i([o.$style.avatar,((d=o.styling)==null?void 0:d.glow)&&o.$style.glow,((u=o.styling)==null?void 0:u.border)&&o.$style.border]),style:$({"--avatarColor":e.color})},[v("div",{class:i(o.$style.inner)},[l(_)?(r(),a("div",{key:0,class:i(o.$style.fallback)},[y(f,{name:o.icon||"__missing"},null,8,["name"])],2)):(r(),a(k,{key:1},[l(g)==="image"?(r(),a("img",{key:0,src:l(n),loading:"lazy"},null,8,z)):(r(),a("video",{key:1,src:l(n),preload:"metadata",autoplay:"",loop:"",muted:""},null,8,A))],64))],2)],6)}}}),V="_avatar_1dtg5_1",F="_inner_1dtg5_8",M="_fallback_1dtg5_21",S="_glow_1dtg5_32",I="_border_1dtg5_35",N={avatar:V,inner:F,fallback:M,glow:S,border:I},R={$style:N},K=Object.assign(w(T,[["__cssModules",R]]),{__name:"Avatar"});function L(t){let e=0;for(let s=0;s<t.length;s++)e=t.charCodeAt(s)+((e<<5)-e);return`hsl(${e%360}, 85%, 35%)`}export{K as _,B as d,L as s};
