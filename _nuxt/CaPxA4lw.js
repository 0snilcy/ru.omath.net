import{_ as G,c as Q,A as W,a as X,b as Z}from"./DA7xmUv2.js";import{_ as tt}from"./DRN6jYZP.js";import{j as E,k as B,l as q,R as V,q as J,c as T,o as i,b as A,n as t,F as C,M as x,f as $,D as f,_ as H,ap as et,aq as ot,r as F,S as P,a5 as Y,K as nt,ar as st,w as j,as as at,t as R,J as ct,a as k,p as D,U as it,Y as rt,a1 as lt,V as ut}from"./6BEYmDlK.js";import{w as _t,u as pt,a as mt,j as dt}from"./BT582r-9.js";import{T as vt}from"./D8-412OV.js";import{t as K}from"./Ci9grtvf.js";import{u as ft}from"./ChYH67aR.js";const yt=E({__name:"TopicNav",async setup(L){let o,r;const u=([o,r]=B(()=>q("article","summary","practice")),o=await o,r(),o),s=V(),a=J(()=>s.value.location.type);return(_,y)=>{var e,d,v,l,w,N,m,O;const p=G;return i(),T("section",{class:f(_.$style.topicNav)},[A(p,{title:(d=(e=t(s).nav)==null?void 0:e.previous)==null?void 0:d.title,link:(l=(v=t(s).nav)==null?void 0:v.previous)==null?void 0:l.link,icon:"arrow-left"},null,8,["title","link"]),(i(!0),T(C,null,x(t(_t),c=>{var n;return i(),$(p,{title:t(u)[c],icon:t(vt)[c],link:(n=t(s).nav)==null?void 0:n[c],active:c===t(a)},null,8,["title","icon","link","active"])}),256)),A(p,{title:(N=(w=t(s).nav)==null?void 0:w.next)==null?void 0:N.title,link:(O=(m=t(s).nav)==null?void 0:m.next)==null?void 0:O.link,icon:"arrow-left",class:"icon-flip-h"},null,8,["title","link"])],2)}}}),Tt="_topicNav_1gv1v_1",bt={topicNav:Tt},gt={$style:bt},It=Object.assign(H(yt,[["__cssModules",gt]]),{__name:"AsideMinorTopicNav"}),$t=E({__name:"TopicTocItem",props:{tocItem:{},active:{type:Boolean}},async setup(L){let o,r;const u=L,s=u.tocItem.productName,a=([o,r]=B(()=>pt(s)),o=await o,r(),o),_=([o,r]=B(()=>mt(s)),o=await o,r(),o),y=ft();function p(e){ot({query:{element:u.tocItem.id}}),e.preventDefault(),e.stopPropagation()}return(e,d)=>{const v=et;return i(),$(v,{label:t(y)(e.tocItem.title||t(_)("_element_title")),level:e.tocItem.level,link:`?element=${e.tocItem.id}`,svg:t(a),active:e.active,onClick:p},null,8,["label","level","link","svg","active"])}}}),wt=Object.assign($t,{__name:"AsideMinorTopicTocItem"}),Mt=E({__name:"TopicToc",async setup(L){let o,r;const u=V(),s=([o,r]=B(()=>q("empty_toc")),o=await o,r(),o),a=F([]),_=F(0);P(u,y),y();function y(){const c=[];for(let n=0;n<u.value.toc.length;n++)c.push({...u.value.toc[n],_active:0,_position:n});a.value=c,_.value++}let p=null,e={};const d=["DOMContentLoaded","load","resize","scroll"];let v=[],l=null;function w(){var c;for(const n of d)window.removeEventListener(n,m);if(v=[],l=null,e={},p&&(p.disconnect(),p=null),(c=a.value)!=null&&c.length)for(const n of a.value)n._active=0}function N(){var c;if((c=a.value)!=null&&c.length){v=a.value.filter(n=>n.productName===dt);for(const n of d)window.addEventListener(n,m);m(),p=new IntersectionObserver(O),e={};for(const n of a.value){const b=n.id;e[b]=n._position;const I=document.getElementById(b);I&&p.observe(I)}}}function m(){var g;function c(M){const h=document.getElementById(M);return h?h.getBoundingClientRect().bottom:1}if(l&&(l._active=l._active===2?2:0,l=null),!((g=a.value)!=null&&g.length)||!v.length)return;let n=0,b=v.length,I=0;for(;n<b;){const M=(n+b)/2|0,S=v[M];c(S.id)<=0?(I=M,n=M+1):b=M}l=v[I],l&&l._active<2&&(l._active=c(l.id)<=0?1:0)}function O(c){var n;for(const b of c){const I=e[b.target.id],g=(n=a.value)==null?void 0:n[I];g&&(g._active=b.isIntersecting?2:g._active===1?1:0)}}return Y(()=>{P([u,K],()=>{w(),!(!u.value.location||!K.value)&&N()},{immediate:!0})}),nt(()=>{w()}),(c,n)=>{var I;const b=st;return i(),T("section",{class:f(c.$style.topicToc)},[((I=t(a))==null?void 0:I.length)>0?(i(),$(b,{key:t(_)},{default:j(()=>[(i(!0),T(C,null,x(t(a),(g,M,S,h)=>{const U=[t(_),g.id,g._active];if(h&&at(h,U))return h;const z=(i(),$(wt,{active:!!g._active,tocItem:g},null,8,["active","tocItem"]));return z.memo=U,z},n,0),256))]),_:1})):(i(),T("div",{key:1,class:f(c.$style.tocEmpty)},R(t(s).empty_toc),3))],2)}}}),ht="_topicToc_x3foy_1",kt="_tocEmpty_x3foy_21",Ct={topicToc:ht,tocEmpty:kt},At={$style:Ct},Nt=Object.assign(H(Mt,[["__cssModules",At]]),{__name:"AsideMinorTopicToc"}),Lt=4,xt=E({__name:"TopicContributors",async setup(L){let o,r;const u=([o,r]=B(()=>q("contributors")),o=await o,r(),o),s=V(),a=F(!1),_=ct(),y=J(()=>{const e=Math.min(Lt,s.value.contributors.length);return{showcase:e,rest:s.value.contributors.length-e}});let p;return Y(()=>{P(s,()=>{p!==s.value.topicId&&(p=s.value.topicId,_.value=[...s.value.contributors].sort(()=>.5-Math.random()).slice(0,y.value.showcase),a.value=!1)},{immediate:!0})}),(e,d)=>{const v=Q,l=X,w=rt,N=lt;return i(),T(C,null,[k("section",{class:f(e.$style.topicContributors),onClick:d[0]||(d[0]=m=>a.value=!0)},[k("div",{class:f(e.$style.showcase)},[t(_)?(i(!0),T(C,{key:0},x(t(_),m=>(i(),$(v,{contributorId:m.contributorId,avatar:m.avatar,class:f(e.$style.avatar)},null,8,["contributorId","avatar","class"]))),256)):(i(),T(C,{key:1},[t(_)?D("",!0):(i(!0),T(C,{key:0},x(t(y).showcase,m=>(i(),T("div",{class:f(e.$style.avatarReplacer)},null,2))),256))],64))],2),t(y).rest?(i(),T("div",{key:0,class:f(e.$style.restCounter)}," + "+R(t(y).rest),3)):D("",!0)],2),A(N,null,{default:j(()=>[t(a)?(i(),$(W,{key:0,stick:"bottom"},{default:j(()=>[k("div",{class:f(e.$style.paneList)},[(i(!0),T(C,null,x(t(s).contributors,m=>(i(),$(l,it({ref_for:!0},m),null,16))),256))],2),k("div",{class:f(e.$style.paneFooter)},[k("span",null,R(t(u).contributors)+":",1),k("span",{class:f(e.$style.counter)},R(t(s).contributors.length),3),d[2]||(d[2]=k("span",{style:{flex:"1"}},null,-1)),A(w,{name:"cross",class:f(e.$style.close),onClick:d[1]||(d[1]=m=>a.value=!1)},null,8,["class"])],2)]),_:1})):D("",!0)]),_:1})],64)}}}),Bt="_topicContributors_1sldn_1",Et="_showcase_1sldn_16",Ot="_avatar_1sldn_20",Rt="_avatarReplacer_1sldn_21",Dt="_restCounter_1sldn_31",Ft="_paneList_1sldn_45",Pt="_paneFooter_1sldn_67",jt="_counter_1sldn_77",Vt="_close_1sldn_80",Ht={topicContributors:Bt,showcase:Et,avatar:Ot,avatarReplacer:Rt,restCounter:Dt,paneList:Ft,paneFooter:Pt,counter:jt,close:Vt},St={$style:Ht},qt=Object.assign(H(xt,[["__cssModules",St]]),{__name:"AsideMinorTopicContributors"}),Ut=E({__name:"AsideMinorTopic",setup(L){const o=V(),r=F(!1);return P(o,()=>r.value=!1),(u,s)=>{const a=Z,_=tt;return i(),$(_,{class:f(u.$style.asideMinorTopic)},{default:j(()=>[A(It),A(Nt),t(o).contributors?(i(),$(qt,{key:0})):D("",!0),A(a,{contentId:t(o).topicId,pane:t(r),"onUpdate:pane":s[0]||(s[0]=y=>ut(r)?r.value=y:null)},null,8,["contentId","pane"])]),_:1},8,["class"])}}}),zt="_asideMinorTopic_mbkbw_1",Kt={asideMinorTopic:zt},Jt={$style:Kt},ee=Object.assign(H(Ut,[["__cssModules",Jt]]),{__name:"AsideMinorTopic"});export{ee as default};
