import{_ as Q,A as W,a as X,b as Y}from"./DYOLDTA5.js";import{_ as Z}from"./BmMRq9dN.js";import{A as E,B,C as U,a1 as H,a as J,q as T,o as i,v as A,E as t,G as M,U as L,c as I,b2 as tt,J as f,_ as V,ar as et,b3 as ot,r as P,a2 as D,ae as K,R as nt,as as st,x as j,b4 as at,t as R,Q as ct,s as k,F,a3 as it,$ as rt,ab as lt,a4 as ut}from"./1T0ow2cI.js";import{T as _t}from"./Cj5Yxkv0.js";import{u as pt,a as mt,h as dt}from"./CvVpBOh-.js";import{t as G}from"./n8H9xyG1.js";import{u as vt}from"./BCXghNGU.js";import{_ as ft}from"./Bt8KTg58.js";const yt=E({__name:"TopicNav",async setup(x){let n,r;const u=([n,r]=B(()=>U("article","summary","practice")),n=await n,r(),n),s=H(),a=J(()=>s.value.part);return(_,y)=>{var e,d,v,l,h,N,m,O;const p=Q;return i(),T("section",{class:f(_.$style.topicNav)},[A(p,{title:(d=(e=t(s).previousNext)==null?void 0:e.previous)==null?void 0:d.title,link:(l=(v=t(s).previousNext)==null?void 0:v.previous)==null?void 0:l.link,icon:"arrow-left"},null,8,["title","link"]),(i(!0),T(M,null,L(t(tt),c=>{var o;return i(),I(p,{title:t(u)[c],icon:t(_t)[c],link:(o=t(s).partLinks)==null?void 0:o[c],active:c===t(a)},null,8,["title","icon","link","active"])}),256)),A(p,{title:(N=(h=t(s).previousNext)==null?void 0:h.next)==null?void 0:N.title,link:(O=(m=t(s).previousNext)==null?void 0:m.next)==null?void 0:O.link,icon:"arrow-left",class:"icon-flip-h"},null,8,["title","link"])],2)}}}),Tt="_topicNav_1gv1v_1",bt={topicNav:Tt},gt={$style:bt},$t=Object.assign(V(yt,[["__cssModules",gt]]),{__name:"AsideMinorTopicNav"}),It=E({__name:"TopicTocItem",props:{tocItem:{},active:{type:Boolean}},async setup(x){let n,r;const u=x,s=u.tocItem.productName,a=([n,r]=B(()=>pt(s)),n=await n,r(),n),_=([n,r]=B(()=>mt(s)),n=await n,r(),n),y=vt();function p(e){ot({query:{element:u.tocItem.id}}),e.preventDefault(),e.stopPropagation()}return(e,d)=>{const v=et;return i(),I(v,{label:t(y)(e.tocItem.title||t(_)("_element_title")),level:e.tocItem.level,link:`?element=${e.tocItem.id}`,svg:t(a),active:e.active,onClick:p},null,8,["label","level","link","svg","active"])}}}),ht=Object.assign(It,{__name:"AsideMinorTopicTocItem"}),wt=E({__name:"TopicToc",async setup(x){let n,r;const u=H(),s=([n,r]=B(()=>U("empty_toc")),n=await n,r(),n),a=P([]),_=P(0);D(u,y),y();function y(){const c=[];for(let o=0;o<u.value.toc.length;o++)c.push({...u.value.toc[o],_active:0,_position:o});a.value=c,_.value++}let p=null,e={};const d=["DOMContentLoaded","load","resize","scroll"];let v=[],l=null;function h(){var c;for(const o of d)window.removeEventListener(o,m);if(v=[],l=null,e={},p&&(p.disconnect(),p=null),(c=a.value)!=null&&c.length)for(const o of a.value)o._active=0}function N(){var c;if((c=a.value)!=null&&c.length){v=a.value.filter(o=>o.productName===dt);for(const o of d)window.addEventListener(o,m);m(),p=new IntersectionObserver(O),e={};for(const o of a.value){const b=o.id;e[b]=o._position;const $=document.getElementById(b);$&&p.observe($)}}}function m(){var g;function c(w){const C=document.getElementById(w);return C?C.getBoundingClientRect().bottom:1}if(l&&(l._active=l._active===2?2:0,l=null),!((g=a.value)!=null&&g.length)||!v.length)return;let o=0,b=v.length,$=0;for(;o<b;){const w=(o+b)/2|0,S=v[w];c(S.id)<=0?($=w,o=w+1):b=w}l=v[$],l&&l._active<2&&(l._active=c(l.id)<=0?1:0)}function O(c){var o;for(const b of c){const $=e[b.target.id],g=(o=a.value)==null?void 0:o[$];g&&(g._active=b.isIntersecting?2:g._active===1?1:0)}}return K(()=>{D([u,G],()=>{h(),!(!u.value.part||!G.value)&&N()},{immediate:!0})}),nt(()=>{h()}),(c,o)=>{var $;const b=st;return i(),T("section",{class:f(c.$style.topicToc)},[(($=t(a))==null?void 0:$.length)>0?(i(),I(b,{key:t(_)},{default:j(()=>[(i(!0),T(M,null,L(t(a),(g,w,S,C)=>{const q=[t(_),g.id,g._active];if(C&&at(C,q))return C;const z=(i(),I(ht,{active:!!g._active,tocItem:g},null,8,["active","tocItem"]));return z.memo=q,z},o,0),256))]),_:1})):(i(),T("div",{key:1,class:f(c.$style.tocEmpty)},R(t(s).empty_toc),3))],2)}}}),Ct="_topicToc_x3foy_1",kt="_tocEmpty_x3foy_21",Mt={topicToc:Ct,tocEmpty:kt},At={$style:Mt},Nt=Object.assign(V(wt,[["__cssModules",At]]),{__name:"AsideMinorTopicToc"}),xt=4,Lt=E({__name:"TopicContributors",async setup(x){let n,r;const u=([n,r]=B(()=>U("contributors")),n=await n,r(),n),s=H(),a=P(!1),_=ct(),y=J(()=>{const e=Math.min(xt,s.value.contributors.length);return{showcase:e,rest:s.value.contributors.length-e}});let p;return K(()=>{D(s,()=>{p!==s.value.fullContentId&&(p=s.value.fullContentId,_.value=[...s.value.contributors].sort(()=>.5-Math.random()).slice(0,y.value.showcase),a.value=!1)},{immediate:!0})}),(e,d)=>{const v=ft,l=X,h=rt,N=lt;return i(),T(M,null,[k("section",{class:f(e.$style.topicContributors),onClick:d[0]||(d[0]=m=>a.value=!0)},[k("div",{class:f(e.$style.showcase)},[t(_)?(i(!0),T(M,{key:0},L(t(_),m=>(i(),I(v,{contributorId:m.contributorId,avatar:m.avatar,class:f(e.$style.avatar)},null,8,["contributorId","avatar","class"]))),256)):(i(),T(M,{key:1},[t(_)?F("",!0):(i(!0),T(M,{key:0},L(t(y).showcase,m=>(i(),T("div",{class:f(e.$style.avatarReplacer)},null,2))),256))],64))],2),t(y).rest?(i(),T("div",{key:0,class:f(e.$style.restCounter)}," + "+R(t(y).rest),3)):F("",!0)],2),A(N,null,{default:j(()=>[t(a)?(i(),I(W,{key:0,stick:"bottom"},{default:j(()=>[k("div",{class:f(e.$style.paneList)},[(i(!0),T(M,null,L(t(s).contributors,m=>(i(),I(l,it({ref_for:!0},m),null,16))),256))],2),k("div",{class:f(e.$style.paneFooter)},[k("span",null,R(t(u).contributors)+":",1),k("span",{class:f(e.$style.counter)},R(t(s).contributors.length),3),d[2]||(d[2]=k("span",{style:{flex:"1"}},null,-1)),A(h,{name:"cross",class:f(e.$style.close),onClick:d[1]||(d[1]=m=>a.value=!1)},null,8,["class"])],2)]),_:1})):F("",!0)]),_:1})],64)}}}),Bt="_topicContributors_1sldn_1",Et="_showcase_1sldn_16",Ot="_avatar_1sldn_20",Rt="_avatarReplacer_1sldn_21",Ft="_restCounter_1sldn_31",Pt="_paneList_1sldn_45",Dt="_paneFooter_1sldn_67",jt="_counter_1sldn_77",Ht="_close_1sldn_80",Vt={topicContributors:Bt,showcase:Et,avatar:Ot,avatarReplacer:Rt,restCounter:Ft,paneList:Pt,paneFooter:Dt,counter:jt,close:Ht},St={$style:Vt},Ut=Object.assign(V(Lt,[["__cssModules",St]]),{__name:"AsideMinorTopicContributors"}),qt=E({__name:"AsideMinorTopic",setup(x){const n=H(),r=P(!1);return D(n,()=>r.value=!1),(u,s)=>{const a=Y,_=Z;return i(),I(_,{class:f(u.$style.asideMinorTopic)},{default:j(()=>[A($t),A(Nt),t(n).contributors?(i(),I(Ut,{key:0})):F("",!0),A(a,{pane:t(r),"onUpdate:pane":s[0]||(s[0]=y=>ut(r)?r.value=y:null)},null,8,["pane"])]),_:1},8,["class"])}}}),zt="_asideMinorTopic_mbkbw_1",Gt={asideMinorTopic:zt},Jt={$style:Gt},oe=Object.assign(V(qt,[["__cssModules",Jt]]),{__name:"AsideMinorTopic"});export{oe as default};
