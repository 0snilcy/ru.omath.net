import{e as p,u as m,a as l}from"./I5hJohLm.js";import{P as y,g as f}from"./BYqyjmQy.js";async function w(i){if(i.type!==y.Link)return;const{linkTarget:a}=i;if(a.type!=="unique")return;const t=await $fetch(`/api/preview/unique/${p(a._absoluteStrLocation)}`,{responseType:"json"}),e=t.bitran.productName,o=t.productTitle,s=await m(e),c=await(async()=>{const n=await l(e);try{return n("_element_title")}catch{return e}})();let r=t.context.filter(n=>!n.hidden).map(n=>n.title).join(" / ");r+=o?(r?" â€¢ ":"")+c:"";const u=o||c||e;return{type:f.Unique,productName:e,bitran:{context:t.bitran.context,content:t.bitran.content},footer:{iconSvg:s,primary:u,secondary:r,href:a._href}}}export{w as buildUnique};
