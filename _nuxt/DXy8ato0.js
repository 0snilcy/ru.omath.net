const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./C_qAin-4.js","./DJvdxRlc.js","./Wluq7dP4.js","./CNjaN0M8.js","./entry.E0yL-eVk.css","./DOf4o0wI.js","./B792dGka.js","./BnZPnEkH.js","./0PnMtnac.js","./qQggRvv6.js","./Paragraph.QFfQpns5.css","./C-nic6F_.js","./D1cwVKn7.js","./Cz5wq9aF.js","./Aliases.ChicXh1G.css","./BzEl6jBU.js","./CUisaUIk.js","./PogLEn-R.js","./Include.iip0Dljp.css","./SeEBe44U.js","./dtiO6C_Y.js","./fljBbVP-.js","./Heading.DoN9JuGs.css","./Da4gV-XW.js","./eoGzAWui.js","./D_0OzbPD.js","./BkTAD2UX.js","./D-pfbA1F.js","./az14xeuv.js","./Details.WYNNJaAn.css","./BCW9O12q.js","./Cfc7UK4n.js","./75TGCbrb.js","./RoJ9f8cL.js","./FMHvUJxI.js","./BbBv-AJb.js","./Link.DCLWLE_Z.css","./CDfxLLdi.js","./DAFuZWML.js","./DeKn0kzE.js","./Emphasis.DLEXWxJ5.css","./CziCn4VR.js","./CxiJO5Yg.js","./ToVY2syv.js","./List.kCPHVOVf.css","./Dz68ka0T.js","./Cq6lIwRR.js","./BEj-lrDe.js","./D178S9_t.js","./DlE70zJ2.js","./FigureWrapper.8XcbacTE.css","./BYqK6xny.js","./BoRZ4L3K.js","./Image.D4Fa0aO1.css","./BWS2P9qL.js","./D-DSOqnh.js","./CeE1gdsU.js","./efjW8Oqi.js","./PaneView.BZPQz-uI.css","./Gallery.Elnc5sj-.css","./Bv1MPROb.js","./DaCGiz_J.js","./Co50Y3BQ.js","./TableElement.8tPCMNSG.css","./DE3X97Gr.js","./ByUYEj7n.js","./9Ovt5qHH.js","./VideoElement.DuLBhFUA.css","./BLc9UIPp.js","./DzZGG7EF.js","./Dd5FgQ65.js","./Flex.CizZVgmt.css","./CN9gjkTx.js","./Cpo3OM4q.js","./DYHuRS6W.js","./DFyhrK-D.js","./UcmaEnsz.js","./B8fLIstJ.js","./iC3v2CZz.js","./DOVw5Enc.js","./D2kBivTq.js","./Expander.C6rAn4y2.css","./ProblemContent.Ximutsmx.css","./DOFBu3T5.js","./Problems.CGGzvGI2.css","./CH_1_oKa.js","./HrElement.C4v-Y-RP.css","./BFA0Lzpu.js","./SlJFlaMl.js","./DeV-SSGR.js","./Todo.C_VvbsT-.css","./IYTjqleJ.js","./Co2pcsCn.js","./DBj5jONH.js","./BlockLink.ClinJnk6.css","./Hpsqb5Gi.js","./YucazM8H.js","./BDQJBJxE.js","./C0zEQ5d6.js","./CWtoC3Q7.js","./D6BO80Zh.js","./DZui6Ayv.js","./QqMUGvBc.js","./DihlkF8w.js","./MathKatex.BCYxHRqE.css","./BlockMath.DPzFkXH-.css","./BxSJDs4x.js","./InlineMath.DeBOdriP.css","./C7zbCvI3.js","./Accent.D4SoAXCM.css","./DcZ3xLsm.js","./-uQnjuHJ.js","./BDVw9Ju3.js","./C0tb4-fI.js","./BMfNO1BJ.js","./DEAH5yla.js","./DBYiYDJV.js","./DhUc95F4.js","./DrvxVxZ8.js","./Callout.DzSe9IfM.css","./B73y9IXI.js","./CRqtl8Vt.js","./BT6X_TT4.js","./Diagram.DJcfhXau.css","./6B2Cz_1f.js","./CP-P5ipM.js"])))=>i.map(i=>d[i]);
var et=Object.defineProperty;var tt=(t,r,e)=>r in t?et(t,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[r]=e;var c=(t,r,e)=>tt(t,typeof r!="symbol"?r+"":r,e);import{aQ as g,l as s,b8 as rt,aO as nt,aR as at,aI as it,aJ as st,b9 as b,ba as P,bb as f,bc as O,bd as E,be as ot,bf as re,bg as J,bh as q,bi as ne,bj as lt,aN as ee,bk as v,bl as ct,bm as pt,bn as mt,bo as ut,e as dt,bp as _t}from"./CNjaN0M8.js";function m(t){return async()=>(await t()).default}async function ht(t){if(t.icon)return t.icon();const r=t.Node.prototype instanceof g?()=>s(()=>import("./BXi_Auz1.js"),[],import.meta.url):()=>s(()=>import("./BfcfzaV9.js"),[],import.meta.url);return m(r)()}function kn(t){return t}function u(t){return Object.fromEntries(Object.entries(t).map(([r,e])=>[r,async()=>(await e()).default]))}async function ft(t,r){var e,n;return await((n=(e=t.languages)==null?void 0:e[r])==null?void 0:n.call(e))??{}}async function gt(t,r){var a;let e={_element_title:t.Node.constructor.name};if((a=t.languages)!=null&&a[r]){const i=await ft(t,r);e={...e,...i}}return(i,...o)=>{const l=e[i];return l?typeof l=="function"?l(...o):l:`{{ ${String(i)} }}`}}function d(t){return async()=>rt(t)}function _(t){return t.ssr=typeof t.ssr>"u"?!0:!!t.ssr,t}const yt=_({Node:nt,component:d(()=>s(()=>import("./C_qAin-4.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url)),languages:u({en:()=>s(()=>import("./DOf4o0wI.js"),__vite__mapDeps([5,3,4]),import.meta.url),ru:()=>s(()=>import("./B792dGka.js"),__vite__mapDeps([6,3,4]),import.meta.url)}),icon:m(()=>s(()=>import("./D4i_baJ6.js"),[],import.meta.url))}),Et=_({Node:at,component:d(()=>s(()=>import("./BnZPnEkH.js"),__vite__mapDeps([7,8,3,4,9,2,1,10]),import.meta.url)),languages:u({en:()=>s(()=>import("./C-nic6F_.js"),__vite__mapDeps([11,3,4]),import.meta.url),ru:()=>s(()=>import("./D1cwVKn7.js"),__vite__mapDeps([12,3,4]),import.meta.url)}),icon:m(()=>s(()=>import("./C2eKsUAj.js"),[],import.meta.url))});function bt(){return{[st]:Et,[it]:yt}}const wt="aliases";class ae extends g{}class Dt extends P{constructor(){super(...arguments);c(this,"regexp",/^~ (?<alias>\S+) (?<target>\S+)$/);c(this,"aliasesArray",[])}canParse(e){const n=e.split(`
`);for(const a of n){const i=a.match(this.regexp);if(!i)return!1;this.aliasesArray.push([i[1].trim(),i[2].trim()])}return!0}async createParseData(){const e={};for(const[n,a]of this.aliasesArray){if(e[n])throw new Error(`Duplicate alias "${n}"!`);e[n]=a}return e}}class vt extends b{async stringifyElement(){const{parseData:r}=this.payload();return Object.entries(r).map(([e,n])=>`~ ${e} ${n}`).join(`
`)}}const Pt=f({Node:ae,Parsers:[Dt],Stringifier:vt}),Rt=_({Node:ae,component:d(()=>s(()=>import("./Cz5wq9aF.js"),__vite__mapDeps([13,3,4,14]),import.meta.url)),icon:m(()=>s(()=>import("./CGlc5T0G.js"),[],import.meta.url)),languages:u({en:()=>s(()=>import("./BzEl6jBU.js"),__vite__mapDeps([15,3,4]),import.meta.url),ru:()=>s(()=>import("./CUisaUIk.js"),__vite__mapDeps([16,3,4]),import.meta.url)}),canRender({isDev:t}){return t===!0}}),Q="include";class ie extends g{get children(){var e;const r=((e=this.parseData.blocks)==null?void 0:e.children)??[];return r.length>0?r:void 0}}class Ot extends P{constructor(){super(...arguments);c(this,"regexp",/^<~ (\S+)$/);c(this,"location")}canParse(e){const n=e.match(this.regexp);return n&&n[1]?(this.location=n[1],!0):!1}async createParseData(){return{location:this.location}}}class It extends E{constructor(){super(...arguments);c(this,"objName",Q)}async parseDataFromObj(e){if(e.error)throw e.error;return{location:e.location,resolved:!0,blocks:await this.parseBlocks(e.blocks)}}}class xt extends b{async stringifyElement(){const{parseData:r}=this.payload();if(r.resolved){const e={};return e.location=r.location,e.resolved=!0,r.error?e.error=r.error:e.blocks=await this.stringify(r.blocks),O(Q,e)}else return`<~ ${r.location}`}}const Tt=f({Node:ie,Parsers:[Ot,It],Stringifier:xt}),At=_({Node:ie,customLayout:!0,component:d(()=>s(()=>import("./PogLEn-R.js"),__vite__mapDeps([17,1,2,3,4,8,9,18]),import.meta.url)),icon:m(()=>s(()=>import("./BVu2-2Pa.js"),[],import.meta.url)),languages:u({en:()=>s(()=>import("./SeEBe44U.js"),__vite__mapDeps([19,3,4]),import.meta.url),ru:()=>s(()=>import("./dtiO6C_Y.js"),__vite__mapDeps([20,3,4]),import.meta.url)})}),Nt="heading";class se extends g{}const te={ru:async()=>s(()=>import("./BdiTBe9J.js"),[],import.meta.url)};class Lt extends P{constructor(){super(...arguments);c(this,"regexp",/^(?<level>#+) (?<title>.+)$/);c(this,"level");c(this,"title")}canParse(e){const[,n,a]=e.match(this.regexp)??[];return!(!n||(this.level=n.length,this.title=(a||"").trim(),!this.title))}async createParseData(){const e=[1,2,3];if(!e.includes(this.level))throw new Error(`Invalid heading level: ${this.level}! Available levels: ${e.join(", ")}.`);if(!this.title)throw new Error("Heading title must not be empty!");return{level:this.level,title:this.title}}async alterAutoId(e,n){var p;const a=ot(this),i=((p=a==null?void 0:a.eruditConfig)==null?void 0:p.language)||"en",o=await(async()=>{if(te[i]){const{default:h}=await te[i]();return h}return h=>h})();let l=n.parseData.title.toLowerCase();return l=o(l).replace(/[^\p{L}\p{N}\s-]/gu,"").replace(/\s+/g," ").trim().replace(/\s/g,"-"),l||e}}class kt extends b{async stringifyElement(){const{parseData:{level:r,title:e}}=this.payload();return`${"#".repeat(r)} ${e}`}}const Vt=f({Node:se,Parsers:[Lt],Stringifier:kt}),$t=_({Node:se,component:d(()=>s(()=>import("./fljBbVP-.js"),__vite__mapDeps([21,9,3,4,1,2,22]),import.meta.url)),icon:m(()=>s(()=>import("./Bg0tdsc2.js"),[],import.meta.url)),languages:u({en:()=>s(()=>import("./Da4gV-XW.js"),__vite__mapDeps([23,3,4]),import.meta.url),ru:()=>s(()=>import("./eoGzAWui.js"),__vite__mapDeps([24,3,4]),import.meta.url)})}),St="details";class oe extends g{get children(){return this.parseData?[this.parseData]:void 0}}class jt extends P{constructor(){super(...arguments);c(this,"regexp",/^@details$([\S\s]+)/m);c(this,"strContent")}canParse(e){const n=this.regexp.exec(e);return n?(this.strContent=n[1],!!this.strContent.trim()):!1}async createParseData(){const{node:e}=this.payload();if(!e.meta.id)throw new Error("Details element must have an explicit ID!");const n=await this.parseBlocks(J(this.strContent));return n.parent=e,n}}class Bt extends b{async stringifyElement(){const{parseData:r}=this.payload();return`@details
${re(await this.stringify(r))}`}}const Ct=f({Node:oe,Parsers:[jt],Stringifier:Bt}),Mt=_({Node:oe,component:d(()=>s(()=>import("./D_0OzbPD.js"),__vite__mapDeps([25,26,8,3,4,9,2,27,1,28,29]),import.meta.url)),icon:m(()=>s(()=>import("./zkR02K9g.js"),[],import.meta.url)),languages:u({en:()=>s(()=>import("./BCW9O12q.js"),__vite__mapDeps([30,3,4]),import.meta.url),ru:()=>s(()=>import("./Cfc7UK4n.js"),__vite__mapDeps([31,3,4]),import.meta.url)}),canRender({isDev:t}){return t===!0}}),le="link";class ce extends q{}const Gt={createKey({node:t}){return`${le}:${t.parseData.target}`}},Wt=["$","[","]"],L=Wt.map(t=>"\\"+t).join(""),Ft=new RegExp(`\\\\([${L}])`,"g");class Kt extends ne{constructor(){super(...arguments);c(this,"regexp",new RegExp(`\\[((?:[^${L}\\\\]|\\\\[${L}])+)\\]\\((.+?)\\)`,"gm"))}async parseDataFromRegexp(e){return{label:e[1].replace(Ft,"$1"),target:e[2]}}}class Ht extends b{async stringifyElement(){const{parseData:r}=this.payload(),e=new RegExp(`[${L}]`,"g");return`[${r.label.replace(e,a=>"\\"+a)}](${r.target})`}}const Jt=f({Node:ce,Parsers:[Kt],Stringifier:Ht}),qt=_({Node:ce,component:d(()=>s(()=>import("./75TGCbrb.js"),__vite__mapDeps([32,1,2,3,4,33,34,35,36]),import.meta.url)),icon:m(()=>s(()=>import("./Buzj1KYe.js"),[],import.meta.url)),languages:u({en:()=>s(()=>import("./CDfxLLdi.js"),__vite__mapDeps([37,3,4]),import.meta.url),ru:()=>s(()=>import("./DAFuZWML.js"),__vite__mapDeps([38,3,4]),import.meta.url)}),renderDataGenerator:Gt}),Qt="emphasis";class pe extends q{get children(){return this.parseData?[this.parseData.inliners]:void 0}}class Xt extends lt{outlineRanges(r){const e=[],n=[];let a=0;const i=r.length;for(;a<i;)if(r[a]==="*"){let o=a;for(;o<i&&r[o]==="*";)o++;const l=o-a,p=[];if(l===3)p.push({type:"italic",length:3});else{let h=Math.floor(l/2);for(let w=0;w<h;w++)p.push({type:"bold",length:2});l%2===1&&p.push({type:"italic",length:1})}for(const h of p){const{type:w,length:R}=h,D=n.map(y=>y.type).lastIndexOf(w);if(D!==-1&&n[D].type===w){let y;do y=n.pop();while(y.type!==w&&n.length>0);if(n.length===0){const x=y.pos,T=a+R;e.push({start:x,end:T})}}else n.push({type:w,pos:a,length:R})}a=o}else a++;return e}async createParseData(r){if(r.startsWith("**")&&r.endsWith("**")){const e=r.slice(2,-2);return{type:"bold",inliners:await this.parseInliners(e)}}else if(r.startsWith("*")&&r.endsWith("*")){const e=r.slice(1,-1);return{type:"italic",inliners:await this.parseInliners(e)}}throw new Error(`Invalid emphasis format: ${r}. Expected *italic* or **bold**.`)}}class Yt extends b{async stringifyElement(){const{parseData:r}=this.payload(),e=r.type==="bold"?"**":"*";return`${e}${await this.stringify(r.inliners)}${e}`}}const zt=f({Node:pe,Parsers:[Xt],Stringifier:Yt}),Ut=_({Node:pe,component:d(()=>s(()=>import("./DeKn0kzE.js"),__vite__mapDeps([39,27,2,3,4,1,8,9,40]),import.meta.url)),icon:m(()=>s(()=>import("./DFdS9cnl.js"),[],import.meta.url)),languages:u({en:()=>s(()=>import("./CziCn4VR.js"),__vite__mapDeps([41,3,4]),import.meta.url),ru:()=>s(()=>import("./CxiJO5Yg.js"),__vite__mapDeps([42,3,4]),import.meta.url)})}),Zt="list";class me extends g{get children(){return this.parseData.items}}class er extends P{canParse(r){return!!(r.startsWith("* ")||r.match(/^\d+\. /))}async createParseData(r){const e=r.split(`
`),a=e[0].match(/^(\d+)\. /),i=!!a,o=i?"ol":"ul",l=i?parseInt(a[1],10):1,p=[];let h="",w=l;for(let D=0;D<e.length;D++){const y=e[D];if(D===0)h=i?y.replace(/^\d+\. /,""):y.substring(2);else if(i){const x=y.match(/^(\d+)\. /),T=x?parseInt(x[1],10):null;T===w+1?(p.push(h),h=y.replace(/^\d+\. /,""),w=T):h+=`
`+y}else y.startsWith("* ")?(p.push(h),h=y.substring(2)):h+=`
`+y}p.push(h);const R=[];for(const D of p)R.push(await this.parseBlocks(D));return{isObj:!1,type:o,items:R,...i?{start:l}:{}}}}class tr extends E{constructor(){super(...arguments);c(this,"objName","list")}async parseDataFromObj(e){const a=e.type;if(a!=="ol"&&a!=="ul")throw new Error(`Invalid list type "${a}"! Expected "ol" or "ul".`);const i=e.items;if(!Array.isArray(i)||!i.every(l=>typeof l=="string"))throw new Error('List object must have "items" property, which is an array of strings!');const o=[];for(const l of i)o.push(await this.parseBlocks(l));if(a==="ol"){const{start:l}=e;if(l!==void 0&&typeof l!="number")throw new Error('The "start" property of ordered list must be a number!');return{isObj:!0,type:a,start:l!==void 0?l:1,items:o}}else return{isObj:!0,type:a,items:o}}}class rr extends b{async stringifyElement(){const{parseData:r}=this.payload(),e=r.isObj||r.items.some(a=>a.children&&a.children.length>1),n=[];for(const a of r.items)n.push(await this.stringify(a));if(e)return O("list",{type:r.type,...r.type==="ol"&&r.start!==1?{start:r.start}:{},items:n});if(r.type==="ul")return n.map(a=>`* ${a}`).join(`
`);{let a=r.start;return n.map(i=>`${a++}. ${i}`).join(`
`)}}}const nr=f({Node:me,Parsers:[er,tr],Stringifier:rr}),ar=_({Node:me,component:d(()=>s(()=>import("./ToVY2syv.js"),__vite__mapDeps([43,1,2,3,4,8,9,44]),import.meta.url)),icon:m(()=>s(()=>import("./qVxSzEX4.js"),[],import.meta.url)),languages:u({en:()=>s(()=>import("./Dz68ka0T.js"),__vite__mapDeps([45,3,4]),import.meta.url),ru:()=>s(()=>import("./Cq6lIwRR.js"),__vite__mapDeps([46,3,4]),import.meta.url)})});function V(t){if(typeof t!="string"){if(!t.main)throw new Error('Caption must have a "main" property!');if(t.secondary&&typeof t.secondary!="string")throw new Error('Caption "secondary" property must be a string!')}}async function $(t,r,e){const n=typeof t=="string"?{main:t}:t,a=new ee(r);a.setNodes(await e.parseInliners(n.main));const i=n.secondary?new ee(r):void 0;return i&&i.setNodes(await e.parseInliners(n.secondary)),{main:a,secondary:i,maxWidth:n.maxWidth}}async function S(t,r){return!t.secondary&&!t.maxWidth?{caption:await r.stringify(t.main)}:{caption:{...t.maxWidth?{maxWidth:t.maxWidth}:{},main:await r.stringify(t.main),...t.secondary?{secondary:await r.stringify(t.secondary)}:{}}}}function I(t){if(!t)return;const r=[t.main];return t.secondary&&r.push(t.secondary),r}const j="image";class ue extends g{get children(){return I(this.parseData.caption)}}const de=t=>`${j}:${t}`,ir={createKey({node:t}){return de(t.parseData.src)}};async function _e(t,r,e){const{src:n,caption:a,invert:i,maxWidth:o}=t;if(!n||typeof n!="string")throw new Error('Image must have a string "src" property!');if(i&&!["light","dark"].includes(i))throw new Error('Invalid image "invert" value! Must be "light" or "dark".');return a&&V(a),{src:n,invert:i,maxWidth:o,caption:a?await $(a,r,e):void 0}}async function he(t,r){const{src:e,invert:n,caption:a,maxWidth:i}=t,o={src:e};return n&&(o.invert=n),i&&(o.maxWidth=i),a&&Object.assign(o,await S(a,r)),o}class sr extends E{constructor(){super(...arguments);c(this,"objName",j)}async parseDataFromObj(e){return _e(e,this.payload().node,this)}}class or extends v{constructor(){super(...arguments);c(this,"objName",j)}async createStrData(){const{parseData:e}=this.payload();return he(e,this.stringifier)}}const lr=f({Node:ue,Parsers:[sr],Stringifier:or}),cr=_({Node:ue,component:d(()=>s(()=>import("./BEj-lrDe.js"),__vite__mapDeps([47,1,2,3,4,33,48,49,8,9,50,51,52,53]),import.meta.url)),icon:m(()=>s(()=>import("./CKQ3gv4g.js"),[],import.meta.url)),languages:u({en:()=>s(()=>import("./BWS2P9qL.js"),__vite__mapDeps([54,3,4]),import.meta.url),ru:()=>s(()=>import("./D-DSOqnh.js"),__vite__mapDeps([55,3,4]),import.meta.url)}),renderDataGenerator:ir}),pr="gallery";class fe extends g{get children(){const e=this.parseData.images.map(n=>n.caption).filter(n=>!!n).map(n=>I(n)).flat();return e.length>0?e:void 0}}class mr extends E{constructor(){super(...arguments);c(this,"objName","gallery")}async parseDataFromObj(e){const{images:n}=e;if(!n||!Array.isArray(n))throw new Error('Gallery must have an "images" array property!');if(n.length===0)throw new Error("Gallery must have at least one image!");const a=[];for(const i of n)a.push(await _e(i,this.payload().node,this));return{images:a}}}class ur extends v{constructor(){super(...arguments);c(this,"objName","gallery")}async createStrData(){const{images:e}=this.payload().parseData,n={images:[]};for(const a of e)n.images.push(await he(a,this.stringifier));return n}}const dr=f({Node:fe,Parsers:[mr],Stringifier:ur}),_r=_({Node:fe,component:d(()=>s(()=>import("./CeE1gdsU.js"),__vite__mapDeps([56,1,2,3,4,33,48,49,8,9,50,51,52,53,57,58,59]),import.meta.url)),icon:m(()=>s(()=>import("./DRGmm8GS.js"),[],import.meta.url)),languages:u({en:()=>s(()=>import("./Bv1MPROb.js"),__vite__mapDeps([60,3,4]),import.meta.url),ru:()=>s(()=>import("./DaCGiz_J.js"),__vite__mapDeps([61,3,4]),import.meta.url)}),renderDataGenerator:{createValue({storage:t,node:r}){return{images:r.parseData.images.map(e=>{const n=de(e.src),a=t[n];if(!a||a.type==="error")throw new Error(`Image render data not found in storage or has error state: ${n}!`);return a.data})}}}}),X="table";class ge extends g{get children(){const r=this.parseData.cells.flat();return this.parseData.caption&&r.push(...I(this.parseData.caption)),r}}class hr extends E{constructor(){super(...arguments);c(this,"objName",X)}getParseMode(e){return["maxWidth: ","    caption:","cells: |"].some(a=>e.includes(a))?"object":"string"}async parseDataFromObj(e){if(pt(e)){if(!e.cells||typeof e.cells!="string")throw new Error('Table with object format must have "cells" string property!');const i={cells:await this.parseCells(e.cells)};if(e.maxWidth&&(i.maxWidth=String(e.maxWidth)),e.caption){V(e.caption);const o=await $(e.caption,this.payload().node,this);i.caption=o}return i}if(typeof e!="string")throw new Error("Expected table data to be a string, or object with cells");if(e.trim()==="")throw new Error("Table data cannot be empty!");return{cells:await this.parseCells(J(e))}}async parseCells(e){const n=e.trim().split(`
`);return Promise.all(n.map(async a=>{const i=[];let o="",l=!1;for(let p=0;p<a.length;p++){const h=a[p];if(h==="\\"&&!l){if(l=!0,p+1<a.length&&a[p+1]==="|")continue;o+=h;continue}h==="|"&&!l?(i.push(o),o=""):(o+=h,l=!1)}return i.push(o),Promise.all(i.map(async p=>this.parseInliners(p)))}))}}class fr extends b{async stringifyElement(){const{parseData:r}=this.payload();let n=(await Promise.all(r.cells.map(async a=>(await Promise.all(a.map(async o=>(await this.stringify(o)).replace(/\|/g,"\\|")))).join("|")))).join(`
`);if(r.caption||r.maxWidth){let a={};if(r.maxWidth&&(a.maxWidth=r.maxWidth),r.caption){const i=await S(r.caption,this.stringifier);Object.assign(a,i)}n=`${ct(a)}
cells: |
${re(n)}`}return O(X,n)}}const gr=f({Node:ge,Parsers:[hr],Stringifier:fr}),yr=_({Node:ge,component:d(()=>s(()=>import("./Co50Y3BQ.js"),__vite__mapDeps([62,1,2,3,4,8,9,49,50,51,63]),import.meta.url)),icon:m(()=>s(()=>import("./B9inIY03.js"),[],import.meta.url)),languages:u({en:()=>s(()=>import("./DE3X97Gr.js"),__vite__mapDeps([64,3,4]),import.meta.url),ru:()=>s(()=>import("./ByUYEj7n.js"),__vite__mapDeps([65,3,4]),import.meta.url)})}),B="video";class ye extends g{get children(){return I(this.parseData.caption)}}const Er={createKey({node:t}){return`${B}:${t.parseData.src}`}};class br extends E{constructor(){super(...arguments);c(this,"objName",B)}async parseDataFromObj(e){const{src:n,caption:a,invert:i,maxWidth:o,autoplay:l}=e;if(!n||typeof n!="string")throw new Error('Image must have a string "src" property!');if(i&&!["light","dark"].includes(i))throw new Error('Invalid image "invert" value! Must be "light" or "dark".');a&&V(a);const p=typeof l<"u";return{src:n,invert:i,maxWidth:o,autoplay:{explicit:p,value:p?!!l:!0},caption:a?await $(a,this.payload().node,this):void 0}}}class wr extends v{constructor(){super(...arguments);c(this,"objName",B)}async createStrData(){const{src:e,invert:n,caption:a,maxWidth:i,autoplay:o}=this.payload().parseData,l={src:e};return o.explicit&&(l.autoplay=o.value),n&&(l.invert=n),i&&(l.maxWidth=i),a&&Object.assign(l,await S(a,this.stringifier)),l}}const Dr=f({Node:ye,Parsers:[br],Stringifier:wr}),vr=_({Node:ye,component:d(()=>s(()=>import("./9Ovt5qHH.js"),__vite__mapDeps([66,3,4,1,2,33,49,8,9,50,51,67]),import.meta.url)),icon:m(()=>s(()=>import("./DT1jiTLA.js"),[],import.meta.url)),languages:u({en:()=>s(()=>import("./BLc9UIPp.js"),__vite__mapDeps([68,3,4]),import.meta.url),ru:()=>s(()=>import("./DzZGG7EF.js"),__vite__mapDeps([69,3,4]),import.meta.url)}),renderDataGenerator:Er}),Y="flex";class Ee extends g{get children(){return[this.parseData.blocks]}}class Pr extends E{constructor(){super(...arguments);c(this,"objName",Y)}async parseDataFromObj(e){const n=e.blocks,{gap:a,arrange:i}=e;if(typeof n!="string"||!n)throw new Error('Flex element must have non-empty string "blocks" property!');if(a!==void 0&&typeof a!="string")throw new Error('Flex element "gap" property must be a string!');if(i!==void 0){if(typeof i!="string")throw new Error('Flex element "arrange" property must be a string!');if(!["flex-start","flex-end","center","space-between","space-around","space-evenly","start","end","left","right"].includes(i))throw new Error('Flex element "arrange" property must be a valid justify-content value!')}return{blocks:await this.parseBlocks(n),gap:a,arrange:i}}}class Rr extends v{constructor(){super(...arguments);c(this,"objName",Y)}async createStrData(){const{parseData:e}=this.payload(),n={};return e.gap!==void 0&&(n.gap=e.gap),e.arrange!==void 0&&(n.arrange=e.arrange),n.blocks=await this.stringify(e.blocks),n}}const Or=f({Node:Ee,Parsers:[Pr],Stringifier:Rr}),Ir=_({Node:Ee,component:d(()=>s(()=>import("./Dd5FgQ65.js"),__vite__mapDeps([70,1,2,3,4,8,9,71]),import.meta.url)),icon:m(()=>s(()=>import("./CdAfJth-.js"),[],import.meta.url)),languages:u({en:()=>s(()=>import("./CN9gjkTx.js"),__vite__mapDeps([72,3,4]),import.meta.url),ru:()=>s(()=>import("./Cpo3OM4q.js"),__vite__mapDeps([73,3,4]),import.meta.url)})}),be=["easy","medium","hard"];function xr(t){return be.includes(t)}const Tr=["pretty","applied","method","inter"];function Ar(t){return Tr.includes(t)}function we(t){const r=[];return r.push(t.description.blocks),t.hints&&r.push(...t.hints.map(e=>e.blocks)),t.solution&&r.push(...Object.values(t.solution).map(e=>e.blocks)),t.answer&&r.push(t.answer.blocks),t.note&&r.push(t.note.blocks),r}const De=t=>{if(t!==void 0)return`${C}-generator:${t}`},Nr={createKey({node:t}){return De(t.parseData.generatorSrc)}},C="problem";class ve extends g{get children(){return we(this.parseData)}}const z="problems";class Pe extends g{get children(){const r=[];this.parseData.shared&&r.push(this.parseData.shared);for(const e of this.parseData.set)r.push(...we(e));return r}}function Re(t){if(!t.title)throw new Error('Problem element must have "title" property!');if(!xr(t.level))throw new Error(`Problem element "level" property must be one of: ${be.join(", ")}!`);if(t.attributes){if(!Array.isArray(t.attributes))throw new Error('Problem element "attributes" property must be an array!');const r=t.attributes.filter(e=>!Ar(e));if(r.length>0)throw new Error(`Problem element "attributes" property contains invalid attributes: ${JSON.stringify(r)}!`)}return{title:t.title,level:t.level,attributes:t.attributes}}async function Oe(t,r){const e=o=>typeof o=="string"&&!!o,n=o=>{throw new Error(`Problem content "${o}" property must be a non-empty string!`)};e(t.description)||n("description");const a=await r.parseBlocks(t.description),i={description:{source:t.description,blocks:a}};for(const o of["answer","note"])t[o]&&(e(t[o])||n(o),i[o]={source:t[o],blocks:await r.parseBlocks(t[o])});if(t.hints){if(!Array.isArray(t.hints))throw new Error('Problem content "hints" property must be an array!');i.hints=[];for(const[o,l]of t.hints.entries()){if(!e(l))throw new Error(`Hint ${o+1} must be a non-empty string!`);i.hints.push({source:l,blocks:await r.parseBlocks(l)})}}if(t.hint){if(t.hints)throw new Error('Problem content cannot have both "hint" and "hints" properties!');if(!e(t.hint))throw new Error('Problem content "hint" property must be a non-empty string!');i.hints=[{source:t.hint,blocks:await r.parseBlocks(t.hint)}]}if(t.solution)if(typeof t.solution=="string"){if(!e(t.solution))throw new Error('Problem content "solution" property must be a non-empty string or an object!');i.solution={"":{source:t.solution,blocks:await r.parseBlocks(t.solution)}}}else if(typeof t.solution=="object"){i.solution={};for(const[o,l]of Object.entries(t.solution)){if(!e(l))throw new Error(`Solution section "${o}" must be a non-empty string!`);i.solution[o]={source:l,blocks:await r.parseBlocks(l)}}}else throw new Error('Problem content "solution" property must be a string or an object!');if(t.generator){if(typeof t.generator!="string")throw new Error('Problem content "generator" property must be a string!');i.generatorSrc=t.generator}return i}async function Ie(t,r){t.description.blocks;const e={generator:t.generatorSrc,description:await r.stringify(t.description.blocks)};if(t.hints)if(t.hints.length===1)e.hint=await r.stringify(t.hints[0].blocks);else{e.hints=[];for(const n of t.hints)e.hints.push(await r.stringify(n.blocks))}if(t.solution)if(Object.keys(t.solution).length===1&&t.solution[""])e.solution=await r.stringify(t.solution[""].blocks);else{e.solution={};for(const[n,a]of Object.entries(t.solution))e.solution[n]=await r.stringify(a.blocks)}return t.answer&&(e.answer=await r.stringify(t.answer.blocks)),t.note&&(e.note=await r.stringify(t.note.blocks)),e}class Lr extends E{constructor(){super(...arguments);c(this,"objName",C)}async parseDataFromObj(e){const n=Re(e),a=await Oe(e,this);return{info:n,...a}}}class kr extends v{constructor(){super(...arguments);c(this,"objName",C)}async createStrData(){const{parseData:e}=this.payload();return{...e.info,...await Ie(e,this)}}}class Vr extends E{constructor(){super(...arguments);c(this,"objName",z)}async parseDataFromObj(e){const n=Re(e);if(!Array.isArray(e.set)||e.set.length===0)throw new Error('Problems element "set" property must be a non-empty an array!');const a=[];for(const[o,l]of e.set.entries())try{const p=await Oe(l,this);if(l.label!==void 0){if(typeof l.label!="string")throw new Error("Problem label must be a string!");a.push({label:l.label,...p})}else a.push(p)}catch(p){throw new Error(`Error parsing problem content item ${o+1}: ${p.message}`)}const i={info:n,set:a};return e.shared&&typeof e.shared=="string"&&e.shared&&(i.shared=await this.parseBlocks(e.shared)),i}}class $r extends v{constructor(){super(...arguments);c(this,"objName",z)}async createStrData(){const{parseData:e}=this.payload(),n={title:e.info.title,level:e.info.level,attributes:e.info.attributes,shared:e.shared?await this.stringify(e.shared):void 0,set:[]};for(const a of e.set){const i=await Ie(a,this);a.label!==void 0?n.set.push({label:a.label,...i}):n.set.push(i)}return n}}const Sr=f({Node:ve,Parsers:[Lr],Stringifier:kr}),jr=f({Node:Pe,Parsers:[Vr],Stringifier:$r}),xe={icon:m(()=>s(()=>import("./0U78EVbJ.js"),[],import.meta.url)),languages:u({en:()=>s(()=>import("./DYHuRS6W.js"),__vite__mapDeps([74,75,3,4]),import.meta.url),ru:()=>s(()=>import("./UcmaEnsz.js"),__vite__mapDeps([76,75,3,4]),import.meta.url)})},Br=_({...xe,Node:ve,component:d(()=>s(()=>import("./B8fLIstJ.js"),__vite__mapDeps([77,2,3,4,1,33,78,9,28,8,79,57,58,80,81,82]),import.meta.url)),renderDataGenerator:Nr}),Cr=_({...xe,Node:Pe,component:d(()=>s(()=>import("./DOFBu3T5.js"),__vite__mapDeps([83,2,3,4,1,33,8,9,78,28,79,57,58,80,81,82,84]),import.meta.url)),renderDataGenerator:{createValue({storage:t,node:r}){return{generatorContentPaths:r.parseData.set.map(e=>{const n=De(e.generatorSrc);if(n===void 0)return;const a=t[n];if(!a||a.type==="error")throw new Error(`Problem render data not found in storage or has error state: ${n}!`);return a.data.generatorContentPath})}}}}),Mr="hr";class Te extends g{}class Gr extends P{canParse(r){return r.trim()==="---"}async createParseData(r){}}class Wr extends b{async stringifyElement(){return"---"}}const Fr=f({Node:Te,Parsers:[Gr],Stringifier:Wr}),Kr=_({Node:Te,component:d(()=>s(()=>import("./CH_1_oKa.js"),__vite__mapDeps([85,3,4,86]),import.meta.url)),icon:m(()=>s(()=>import("./CQTxSWfj.js"),[],import.meta.url)),languages:u({en:()=>s(()=>import("./BFA0Lzpu.js"),__vite__mapDeps([87,3,4]),import.meta.url),ru:()=>s(()=>import("./SlJFlaMl.js"),__vite__mapDeps([88,3,4]),import.meta.url)}),customLayout:!0}),U="todo";class Ae extends g{get children(){return this.parseData.content?[this.parseData.content]:void 0}}class Hr extends E{constructor(){super(...arguments);c(this,"objName",U)}async parseDataFromObj(e){const{title:n,content:a}=e;if(typeof n!="string"&&!n)throw new Error("Todo element must have a non-empty title!");return{title:n,content:a?await this.parseBlocks(a):void 0}}}class Jr extends v{constructor(){super(...arguments);c(this,"objName",U)}async createStrData(){const{parseData:e}=this.payload();return{title:e.title,content:e.content?await this.stringify(e.content):void 0}}}const qr=f({Node:Ae,Parsers:[Hr],Stringifier:Jr}),Qr=_({Node:Ae,component:d(()=>s(()=>import("./DeV-SSGR.js"),__vite__mapDeps([89,3,4,26,8,9,2,1,90]),import.meta.url)),icon:m(()=>s(()=>import("./7y1F5mT1.js"),[],import.meta.url)),languages:u({en:()=>s(()=>import("./IYTjqleJ.js"),__vite__mapDeps([91,3,4]),import.meta.url),ru:()=>s(()=>import("./Co2pcsCn.js"),__vite__mapDeps([92,3,4]),import.meta.url)}),canRender({isDev:t}){return t===!0}}),Ne="blockLink";class Le extends g{}const Xr={createKey({node:t}){return`${Ne}:${t.parseData.location}`}};class Yr extends P{constructor(){super(...arguments);c(this,"location");c(this,"label")}canParse(e){const n=e.trim().split(`
`),a=n[0].trim(),i=/^~>\s*(\S+)(?:\s+(.+?))?$/.exec(a);return i?(this.location=i[1],i[2]?this.label=i[2]:n.length>1&&(this.label=n.slice(1).join(`
`).trim()),!0):!1}async createParseData(){var e;return{location:this.location,label:(e=this.label)==null?void 0:e.trim()}}}class zr extends b{async stringifyElement(){const{parseData:r}=this.payload();return r.label?r.label.includes(`
`)?`~> ${r.location}
${r.label}`:`~> ${r.location} ${r.label}`:`~> ${r.location}`}}const Ur=f({Node:Le,Parsers:[Yr],Stringifier:zr}),Zr=_({Node:Le,component:d(()=>s(()=>import("./DBj5jONH.js"),__vite__mapDeps([93,3,4,9,1,2,33,34,94]),import.meta.url)),icon:m(()=>s(()=>import("./ChKBl9TM.js"),[],import.meta.url)),languages:u({en:()=>s(()=>import("./Hpsqb5Gi.js"),__vite__mapDeps([95,3,4]),import.meta.url),ru:()=>s(()=>import("./YucazM8H.js"),__vite__mapDeps([96,3,4]),import.meta.url)}),renderDataGenerator:Xr}),en={[wt]:{transpiler:Pt,renderer:Rt},[Q]:{transpiler:Tt,renderer:At},[Nt]:{transpiler:Vt,renderer:$t},[St]:{transpiler:Ct,renderer:Mt},[le]:{transpiler:Jt,renderer:qt},[Ne]:{transpiler:Ur,renderer:Zr},[Qt]:{transpiler:zt,renderer:Ut},[Zt]:{transpiler:nr,renderer:ar},[j]:{transpiler:lr,renderer:cr},[pr]:{transpiler:dr,renderer:_r},[X]:{transpiler:gr,renderer:yr},[B]:{transpiler:Dr,renderer:vr},[Y]:{transpiler:Or,renderer:Ir},[C]:{transpiler:Sr,renderer:Br},[z]:{transpiler:jr,renderer:Cr},[Mr]:{transpiler:Fr,renderer:Kr},[U]:{transpiler:qr,renderer:Qr}},ke="math",Ve="imath";class Z extends g{}class $e extends q{}const Se=t=>t.parseData.src.substring(t.parseData.range[0],t.parseData.range[1]).trim();function je(t){const r=t instanceof Z,e=t.parseData;return`${r?ke:Ve}:${e.src.slice(e.range[0],e.range[1])}`}const Be={createKey({node:t}){return je(t)},async createValue({node:t}){const r=(await s(async()=>{const{renderBlockMath:e}=await import("./BDQJBJxE.js");return{renderBlockMath:e}},__vite__mapDeps([97,98,3,4]),import.meta.url)).renderBlockMath;return await r(Se(t))}},Ce={createKey({node:t}){return je(t)},async createValue({node:t}){const r=(await s(async()=>{const{renderInlineMath:e}=await import("./CWtoC3Q7.js");return{renderInlineMath:e}},__vite__mapDeps([99,98,3,4]),import.meta.url)).renderInlineMath;return await r(Se(t))}},Me=m(()=>s(()=>import("./Dorf7iCE.js"),[],import.meta.url)),Ge=u({en:()=>s(()=>import("./D6BO80Zh.js"),__vite__mapDeps([100,3,4]),import.meta.url),ru:()=>s(()=>import("./DZui6Ayv.js"),__vite__mapDeps([101,3,4]),import.meta.url)}),tn=_({icon:Me,languages:Ge,Node:Z,component:d(()=>s(()=>import("./QqMUGvBc.js"),__vite__mapDeps([102,33,2,3,4,103,104,105]),import.meta.url)),renderDataGenerator:Be}),rn=_({icon:Me,languages:Ge,Node:$e,component:d(()=>s(()=>import("./BxSJDs4x.js"),__vite__mapDeps([106,33,2,3,4,103,104,107]),import.meta.url)),renderDataGenerator:Ce}),We=t=>{const r=t[1],e=t[0].indexOf(r);return[e,e+r.length]};class nn extends P{constructor(){super(...arguments);c(this,"objectRegexp",/^@math$([\S\s]+)/m);c(this,"dollarRegexp",/^\$\$([\S\s]+?)\$\$$/m);c(this,"range")}canParse(e){const n=(i,o)=>{const l=i.exec(o);return l&&l.index===0?l:!1};let a=n(this.objectRegexp,e)||n(this.dollarRegexp,e);return a?(this.range=We(a),!0):!1}async createParseData(e){return{src:e,range:this.range}}}class an extends ne{constructor(){super(...arguments);c(this,"regexp",/\$([^\$]+)\$/g)}async parseDataFromRegexp(e){return{src:e[0],range:We(e)}}}class Fe extends b{async stringifyElement(){const{parseData:r}=this.payload();return r.src}}const sn=f({Node:Z,Parsers:[nn],Stringifier:Fe,renderDataGenerator:Be}),on=f({Node:$e,Parsers:[an],Stringifier:Fe,renderDataGenerator:Ce}),Ke="important";class He extends g{get children(){const r=[];if(this.parseData.type==="simple")r.push(this.parseData.main);else{this.parseData.main&&r.push(this.parseData.main);for(const e of this.parseData.sections)r.push(e.content)}return r.length?r:void 0}}class ln extends E{constructor(){super(...arguments);c(this,"objName")}canParse(e){return this.objName=this.payload().provide.objName,super.canParse(e)}async parseDataFromObj(e){if("main"in e){const n=e.main.trim();if(typeof n!="string")throw new Error("Accent main must be a string!");if(!n)throw new Error("Accent main cannot be empty!");if("sections"in e){const a=e.sections;if(!a||typeof a!="object"||Array.isArray(a))throw new Error("Accent sections must be a regular object!");const i=Object.keys(a);if(i.length===0)throw new Error("Accent must have at least one section!");const o=[];for(const l of i){const p=a[l];if(typeof p!="string")throw new Error(`Accent section "${l}" content must be a string!`);if(!p.trim())throw new Error(`Accent section "${l}" content cannot be empty!`);o.push({id:l,content:await this.parseBlocks(p)})}if(e.direction&&!["row","column"].includes(e.direction))throw new Error('Accent sections direction must be either "row" or "column"!');return{type:"complex",objName:this.objName,title:e.title,main:await this.parseBlocks(n),direction:e.direction,sections:o}}return{type:"simple",objName:this.objName,title:e.title,main:await this.parseBlocks(n)}}if("sections"in e){const n=e.sections;if(!n||typeof n!="object"||Array.isArray(n))throw new Error("Accent sections must be a regular object!");const a=Object.keys(n);if(a.length===0)throw new Error("Accent must have at least one section!");const i=[];for(const o of a){const l=n[o];if(typeof l!="string")throw new Error(`Accent section "${o}" content must be a string!`);if(!l.trim())throw new Error(`Accent section "${o}" content cannot be empty!`);i.push({id:o,content:await this.parseBlocks(l)})}if(e.direction&&!["row","column"].includes(e.direction))throw new Error('Accent sections direction must be either "row" or "column"!');return{type:"complex",objName:this.objName,title:e.title,direction:e.direction,sections:i}}throw new Error('Accent element must have either "main" property or "sections" property!')}}class cn extends v{constructor(){super(...arguments);c(this,"objName")}async createStrData(){this.objName=this.payload().parseData.objName;const{parseData:e}=this.payload(),n={};if(e.title&&(n.title=e.title),e.type==="simple")n.main=await this.stringify(e.main);else if(e.type==="complex"){e.main&&(n.main=await this.stringify(e.main)),e.direction&&(n.direction=e.direction);const a={};for(const i of e.sections)a[i.id]=await this.stringify(i.content);n.sections=a}return n}}const M=mt({Node:He,Parsers:[ln],Stringifier:cn}),pn=M({objName:Ke});function G(t){return _({Node:He,component:d(()=>s(()=>import("./C7zbCvI3.js"),__vite__mapDeps([108,3,4,9,26,8,2,1,28,33,57,58,80,81,109]),import.meta.url)),icon:t.icon,languages:t.languages,renderDataGenerator:{createKey({node:r}){return`accent:${r.name}`},createValue(){return{colors:{...t.colors}}}}})}const mn=G({colors:{text:"light-dark( #b04a4a, #c96565)",background:"light-dark( #feefef, #312323)",border:"light-dark( #e7c9c9, #4b2d2d)"},icon:m(()=>s(()=>import("./BZ2AI0uY.js"),[],import.meta.url)),languages:u({en:()=>s(()=>import("./DcZ3xLsm.js"),__vite__mapDeps([110,3,4]),import.meta.url),ru:()=>s(()=>import("./-uQnjuHJ.js"),__vite__mapDeps([111,3,4]),import.meta.url)})}),Je="example",un=M({objName:Je}),dn=G({colors:{text:"light-dark( #828282, #909090)",background:"light-dark( #f6f6f6, #2d2d2d)",border:"light-dark( #d5d5d5, #424242)"},icon:m(()=>s(()=>import("./Bn9lF6nr.js"),[],import.meta.url)),languages:u({en:()=>s(()=>import("./BDVw9Ju3.js"),__vite__mapDeps([112,3,4]),import.meta.url),ru:()=>s(()=>import("./C0tb4-fI.js"),__vite__mapDeps([113,3,4]),import.meta.url)})}),qe="statement",_n=M({objName:qe}),hn=G({colors:{text:"light-dark( #4a82b0, #6594c9)",background:"light-dark( #eff7fe, #232b31)",border:"light-dark( #c9d9e7, #2d3e4b)"},icon:m(()=>s(()=>import("./B_j3wLWy.js"),[],import.meta.url)),languages:u({en:()=>s(()=>import("./BMfNO1BJ.js"),__vite__mapDeps([114,3,4]),import.meta.url),ru:()=>s(()=>import("./DEAH5yla.js"),__vite__mapDeps([115,3,4]),import.meta.url)})}),Qe="term",fn=M({objName:Qe}),gn=G({colors:{text:"light-dark( #65a63c, #a4c965)",background:"light-dark( #f8feef, #2a3123)",border:"light-dark( #dde7c9, #404b2d)"},icon:m(()=>s(()=>import("./CoNbQ8uV.js"),[],import.meta.url)),languages:u({en:()=>s(()=>import("./DBYiYDJV.js"),__vite__mapDeps([116,3,4]),import.meta.url),ru:()=>s(()=>import("./DhUc95F4.js"),__vite__mapDeps([117,3,4]),import.meta.url)})}),W="callout",yn=["quote","joke"];class Xe extends g{get children(){return this.parseData.content?[this.parseData.content]:void 0}}const En={createKey({node:t}){if(t.parseData.icon.type!=="default")return`${W}:${t.parseData.icon.src}`}};class bn extends E{constructor(){super(...arguments);c(this,"objName",W)}async parseDataFromObj(e){if(!e.content||typeof e.content!="string")throw new Error('Callout must have a string "content" property!');if(!e.title||typeof e.title!="string")throw new Error('Callout must have a string "title" property!');return{icon:this.parseIcon(e),title:e.title,content:await this.parseBlocks(e.content)}}parseIcon(e){const n=e.icon;if(!n)throw new Error('Callout must have an "icon" property!');if(yn.includes(n))return{type:"default",calloutType:n};if(typeof n=="string")return{type:"custom",src:n};if(typeof n=="object"){const{src:a,invert:i}=n;if(!a)throw new Error('Callout icon object must have a "src" property!');if(i&&!["light","dark"].includes(i))throw new Error('Invalid callout icon "invert" value! Must be "light" or "dark".');return{type:"custom",src:a,invert:i}}throw new Error("Invalid callout icon value!")}}class wn extends v{constructor(){super(...arguments);c(this,"objName",W)}async createStrData(){const{icon:e,title:n,content:a}=this.payload().parseData,i={};return i.title=n,i.icon=this.stringifyIcon(e),i.content=await this.stringify(a),i}stringifyIcon(e){return e.type==="default"?e.calloutType:e.invert?{src:e.src,invert:e.invert}:e.src}}const Dn=f({Node:Xe,Parsers:[bn],Stringifier:wn}),vn=_({Node:Xe,component:d(()=>s(()=>import("./DrvxVxZ8.js"),__vite__mapDeps([118,1,2,3,4,33,8,9,119]),import.meta.url)),icon:m(()=>s(()=>import("./Bzc0vD_z.js"),[],import.meta.url)),languages:u({en:()=>s(()=>import("./B73y9IXI.js"),__vite__mapDeps([120,3,4]),import.meta.url),ru:()=>s(()=>import("./CRqtl8Vt.js"),__vite__mapDeps([121,3,4]),import.meta.url)}),renderDataGenerator:En}),k="diagram";class Ye extends g{get children(){return I(this.parseData.caption)}}class Pn extends E{constructor(){super(...arguments);c(this,"objName",k)}getParseMode(e){return["    caption:","content: |"].some(a=>e.includes(a))?"object":"string"}async parseDataFromObj(e){const n=i=>{if(typeof i!="string"||!i.trim())throw new Error("Mermaid diagram must be a non-empty string!")};if(typeof e=="string")return n(e),{content:J(e)};n(e.content);const a={content:e.content};if(e.caption){V(e.caption);const i=await $(e.caption,this.payload().node,this);a.caption=i}return a}}class Rn extends b{async stringifyElement(){const{parseData:r}=this.payload();if(!r.caption)return O(k,r.content);const e=await S(r.caption,this.stringifier);return O(k,{...e,content:r.content})}}const On=f({Node:Ye,Parsers:[Pn],Stringifier:Rn}),In=_({Node:Ye,component:d(()=>s(()=>import("./BT6X_TT4.js"),__vite__mapDeps([122,3,4,1,2,49,8,9,50,52,123]),import.meta.url)),icon:m(()=>s(()=>import("./LKwgz2C7.js"),[],import.meta.url)),languages:u({en:()=>s(()=>import("./6B2Cz_1f.js"),__vite__mapDeps([124,3,4]),import.meta.url),ru:()=>s(()=>import("./CP-P5ipM.js"),__vite__mapDeps([125,3,4]),import.meta.url)}),ssr:!0}),xn=ut(async()=>({[ke]:{transpiler:sn,renderer:tn},[Ve]:{transpiler:on,renderer:rn},[Ke]:{transpiler:pn,renderer:mn},[Je]:{transpiler:un,renderer:dn},[qe]:{transpiler:_n,renderer:hn},[Qe]:{transpiler:fn,renderer:gn},[W]:{transpiler:Dn,renderer:vn},[k]:{transpiler:On,renderer:In}}));async function Tn(){const t=await xn();return{...en,...t}}let F,K,H,A,N;async function ze(){return F||(F=await Tn()),F}async function An(){if(!K){const t=await ze();K=Object.fromEntries(Object.entries(t).map(([r,e])=>[r,e.transpiler]))}return K}async function Ue(){if(!H){const t=await ze();H=Object.fromEntries(Object.entries(t).map(([r,e])=>[r,e.renderer]))}return H}async function Vn(){return A||(A=_t({...await An()}),A)}async function $n(){return N||(N={...await Ue()},N)}async function Ze(t){const r=(await Ue())[t]||bt()[t];if(!r)throw new Error(`Missing Bitran product render "${t}"!`);return r}async function Sn(t){const r=await Ze(t);return await ht(r)}async function jn(t){var e;const r=await Ze(t);return await gt(r,((e=dt)==null?void 0:e.language)||"en")}export{jn as a,ft as b,gt as c,kn as d,Vn as e,$n as f,ht as g,Nt as h,Et as p,yt as t,Sn as u};
