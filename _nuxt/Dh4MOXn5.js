import{_ as Q,A as J,a as W,b as X}from"./BnYj1YdM.js";import{_ as Y}from"./DX1DgYzT.js";import{A as E,B as L,C as U,a6 as H,a as G,q as f,o as c,v as N,E as e,G as A,U as B,c as $,b4 as Z,I as m,_ as V,ar as tt,$ as P,a7 as j,aj as K,R as et,as as ot,x as D,b5 as nt,s as R,ah as st,Q as at,r as k,F,a8 as ct,a0 as it,ag as rt,a9 as lt}from"./ma-yzDba.js";import{T as ut}from"./DDnwrIJX.js";import{u as _t,a as pt,h as mt}from"./DiOTqd5X.js";import{u as dt}from"./CIza_OCO.js";import{_ as vt,s as ft}from"./fqFNHTKt.js";import"./Bt16fNrU.js";const yt=E({__name:"TopicNav",async setup(x){let n,i;const y=([n,i]=L(()=>U("article","summary","practice")),n=await n,i(),n),t=H(),_=G(()=>t.value.part);return(d,v)=>{var s,p,h,l,I,w,u,O;const r=Q;return c(),f("section",{class:m(d.$style.topicNav)},[N(r,{title:(p=(s=e(t).previousNext)==null?void 0:s.previous)==null?void 0:p.title,link:(l=(h=e(t).previousNext)==null?void 0:h.previous)==null?void 0:l.link,icon:"arrow-left"},null,8,["title","link"]),(c(!0),f(A,null,B(e(Z),a=>{var o;return c(),$(r,{title:e(y)[a],icon:e(ut)[a],link:(o=e(t).partLinks)==null?void 0:o[a],active:a===e(_)},null,8,["title","icon","link","active"])}),256)),N(r,{title:(w=(I=e(t).previousNext)==null?void 0:I.next)==null?void 0:w.title,link:(O=(u=e(t).previousNext)==null?void 0:u.next)==null?void 0:O.link,icon:"arrow-left",class:"icon-flip-h"},null,8,["title","link"])],2)}}}),ht="_topicNav_1gv1v_1",Tt={topicNav:ht},gt={$style:Tt},bt=Object.assign(V(yt,[["__cssModules",gt]]),{__name:"AsideMinorTopicNav"}),$t=E({__name:"TopicTocItem",props:{tocItem:{},active:{type:Boolean}},async setup(x){let n,i;const t=x.tocItem.productName,_=([n,i]=L(()=>_t(t)),n=await n,i(),n),d=([n,i]=L(()=>pt(t)),n=await n,i(),n),v=dt();return(r,s)=>{const p=tt;return c(),$(p,{label:e(v)(r.tocItem.title||e(d)("_element_title")),level:r.tocItem.level,link:`#${r.tocItem.id}`,svg:e(_),active:r.active},null,8,["label","level","link","svg","active"])}}}),It=Object.assign($t,{__name:"AsideMinorTopicTocItem"}),wt=E({__name:"TopicToc",async setup(x){let n,i;const y=H(),t=P([]),_=P(0),d=([n,i]=L(()=>U("empty_toc")),n=await n,i(),n);j(y,v),v();function v(){const a=[];for(let o=0;o<y.value.toc.length;o++)a.push({...y.value.toc[o],_active:0,_position:o});t.value=a,_.value++}let r=null,s={};const p=["DOMContentLoaded","load","resize","scroll"];let h=[],l=null;function I(){var a;for(const o of p)window.removeEventListener(o,u);if(h=[],l=null,s={},r&&(r.disconnect(),r=null),(a=t.value)!=null&&a.length)for(const o of t.value)o._active=0}function w(){var a;if((a=t.value)!=null&&a.length){h=t.value.filter(o=>o.productName===mt);for(const o of p)window.addEventListener(o,u);u(),r=new IntersectionObserver(O),s={};for(const o of t.value){const T=o.id;s[T]=o._position;const b=document.getElementById(T);b&&r.observe(b)}}}function u(){var g;function a(C){const M=document.getElementById(C);return M?M.getBoundingClientRect().bottom:1}if(l&&(l._active=l._active===2?2:0,l=null),!((g=t.value)!=null&&g.length)||!h.length)return;let o=0,T=h.length,b=0;for(;o<T;){const C=(o+T)/2|0,S=h[C];a(S.id)<=0?(b=C,o=C+1):T=C}l=h[b],l&&l._active<2&&(l._active=a(l.id)<=0?1:0)}function O(a){var o;for(const T of a){const b=s[T.target.id],g=(o=t.value)==null?void 0:o[b];g&&(g._active=T.isIntersecting?2:g._active===1?1:0)}}return j(()=>y.value.part,()=>{I(),st().then(()=>{w()})}),K(()=>{w()}),et(()=>{I()}),(a,o)=>{var b;const T=ot;return c(),f("section",{class:m(a.$style.topicToc)},[((b=e(t))==null?void 0:b.length)>0?(c(),$(T,{key:e(_)},{default:D(()=>[(c(!0),f(A,null,B(e(t),(g,C,S,M)=>{const z=[e(_),g.id,g._active];if(M&&nt(M,z))return M;const q=(c(),$(It,{active:!!g._active,tocItem:g},null,8,["active","tocItem"]));return q.memo=z,q},o,0),256))]),_:1})):(c(),f("div",{key:1,class:m(a.$style.tocEmpty)},R(e(d).empty_toc),3))],2)}}}),Ct="_topicToc_x3foy_1",Mt="_tocEmpty_x3foy_21",kt={topicToc:Ct,tocEmpty:Mt},At={$style:kt},Nt=Object.assign(V(wt,[["__cssModules",At]]),{__name:"AsideMinorTopicToc"}),xt=4,Bt=E({__name:"TopicContributors",async setup(x){let n,i;const y=([n,i]=L(()=>U("contributors")),n=await n,i(),n),t=H(),_=P(!1),d=at(),v=G(()=>{const s=Math.min(xt,t.value.contributors.length);return{showcase:s,rest:t.value.contributors.length-s}});let r;return K(()=>{j(t,()=>{r!==t.value.fullContentId&&(r=t.value.fullContentId,d.value=[...t.value.contributors].sort(()=>.5-Math.random()).slice(0,v.value.showcase),_.value=!1)},{immediate:!0})}),(s,p)=>{const h=vt,l=W,I=it,w=rt;return c(),f(A,null,[k("section",{class:m(s.$style.topicContributors),onClick:p[0]||(p[0]=u=>_.value=!0)},[k("div",{class:m(s.$style.showcase)},[e(d)?(c(!0),f(A,{key:0},B(e(d),u=>(c(),$(h,{icon:"user",src:u.avatar?`/contributors/${u.avatar}`:void 0,class:m(s.$style.avatar),color:("stringColor"in s?s.stringColor:e(ft))(u.contributorId)},null,8,["src","class","color"]))),256)):(c(),f(A,{key:1},[e(d)?F("",!0):(c(!0),f(A,{key:0},B(e(v).showcase,u=>(c(),f("div",{class:m(s.$style.avatarReplacer)},null,2))),256))],64))],2),e(v).rest?(c(),f("div",{key:0,class:m(s.$style.restCounter)}," + "+R(e(v).rest),3)):F("",!0)],2),N(w,null,{default:D(()=>[e(_)?(c(),$(J,{key:0,stick:"bottom"},{default:D(()=>[k("div",{class:m(s.$style.paneList)},[(c(!0),f(A,null,B(e(t).contributors,u=>(c(),$(l,ct({ref_for:!0},u),null,16))),256))],2),k("div",{class:m(s.$style.paneFooter)},[k("span",null,R(e(y).contributors)+":",1),k("span",{class:m(s.$style.counter)},R(e(t).contributors.length),3),p[2]||(p[2]=k("span",{style:{flex:"1"}},null,-1)),N(I,{name:"cross",class:m(s.$style.close),onClick:p[1]||(p[1]=u=>_.value=!1)},null,8,["class"])],2)]),_:1})):F("",!0)]),_:1})],64)}}}),Lt="_topicContributors_10dhh_1",Et="_showcase_10dhh_16",Ot="_avatar_10dhh_20",Rt="_avatarReplacer_10dhh_21",Ft="_restCounter_10dhh_32",Pt="_paneList_10dhh_46",jt="_paneFooter_10dhh_68",Dt="_counter_10dhh_78",Ht="_close_10dhh_81",Vt={topicContributors:Lt,showcase:Et,avatar:Ot,avatarReplacer:Rt,restCounter:Ft,paneList:Pt,paneFooter:jt,counter:Dt,close:Ht},St={$style:Vt},Ut=Object.assign(V(Bt,[["__cssModules",St]]),{__name:"AsideMinorTopicContributors"}),zt=E({__name:"AsideMinorTopic",setup(x){const n=H(),i=P(!1);return j(n,()=>{i.value=!1}),(y,t)=>{const _=X,d=Y;return c(),$(d,{class:m(y.$style.asideMinorTopic)},{default:D(()=>[N(bt),N(Nt),e(n).contributors?(c(),$(Ut,{key:0})):F("",!0),N(_,{pane:e(i),"onUpdate:pane":t[0]||(t[0]=v=>lt(i)?i.value=v:null)},null,8,["pane"])]),_:1},8,["class"])}}}),qt="_asideMinorTopic_mbkbw_1",Gt={asideMinorTopic:qt},Kt={$style:Gt},oe=Object.assign(V(zt,[["__cssModules",Kt]]),{__name:"AsideMinorTopic"});export{oe as default};
