import{P as l,i as m,h as p}from"./B8j-voU8.js";import{u as y,a as f}from"./cCl500a7.js";async function d(s){if(s.type!==l.Link)return;const{linkTarget:a}=s;if(a.type!=="unique")return;const n=await $fetch(`/api/preview/unique/${m(a._absoluteStrLocation)}`,{responseType:"json"}),e=n.elementName,r=n.title,c=await y(e),i=await(async()=>{const t=await f(e);try{return t("_element_title")}catch{return e}})();let o=n.context.filter(t=>!t.hidden).map(t=>t.title).join(" / ");o+=r?(o?" â€¢ ":"")+i:"";const u=r||i||e;return{type:p.Unique,elementName:e,title:r||i,rawBitranContent:n.rawBitranContent,footer:{iconSvg:c,primary:u,secondary:o,href:a._href}}}export{d as buildUnique};
