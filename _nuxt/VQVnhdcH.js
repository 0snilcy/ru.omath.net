import{P as m,t as p,k as f,j as y}from"./CNjaN0M8.js";import{u as w,a as h}from"./DXy8ato0.js";async function v(s){if(s.type!==m.Link)return;const{linkTarget:a}=s;if(a.type!=="unique")return;const c=p(`/api/preview/unique/${f(a._absoluteStrLocation)}`,!1),n=await $fetch(c,{responseType:"json"}),e=n.elementName,r=n.title,u=await w(e),i=await(async()=>{const t=await h(e);try{return t("_element_title")}catch{return e}})();let o=n.context.filter(t=>!t.hidden).map(t=>t.title).join(" / ");o+=r?(o?" â€¢ ":"")+i:"";const l=r||i||e;return{type:y.Unique,elementName:e,title:r||i,rawBitranContent:n.rawBitranContent,footer:{iconSvg:u,primary:l,secondary:o,href:a._href}}}export{v as buildUnique};
