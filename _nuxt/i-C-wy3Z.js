import{ab as p,A as m,a as c,q as n,o as r,r as v,E as l,I as i,v as y,a0 as b,G as k,a1 as w,_ as $}from"./Bmaw4-yZ.js";const h=["png","jpg","jpeg","gif","webp","avif"],C=["mp4","webm","ogg"];function E(t){var s;const e=(s=t.split(".").pop())==null?void 0:s.toLowerCase();if(e){if(h.includes(e))return"image";if(C.includes(e))return"video"}return"unknown"}function A(t,...e){const s=E(t);if(!e.includes(s))throw new Error(`Invalid file type "${s}" of file "${t}"! Expected one of: ${e.join(", ")}.`);return s}function B(){const t=p();return e=>(e.startsWith("/asset/")||(e="/asset/"+e.replace(/^\/+/,"")),t(e))}const j=["src"],T=["src"],z=m({__name:"Avatar",props:{src:{},icon:{},color:{},styling:{}},setup(t){const e=t,s=B(),a=c(()=>e.src?s(e.src):void 0),_=c(()=>!a.value),g=c(()=>a.value?A(a.value,"image","video"):void 0);return(o,U)=>{var d,u;const f=b;return r(),n("div",{class:i([o.$style.avatar,((d=o.styling)==null?void 0:d.glow)&&o.$style.glow,((u=o.styling)==null?void 0:u.border)&&o.$style.border]),style:w({"--avatarColor":e.color})},[v("div",{class:i(o.$style.inner)},[l(_)?(r(),n("div",{key:0,class:i(o.$style.fallback)},[y(f,{name:o.icon||"__missing"},null,8,["name"])],2)):(r(),n(k,{key:1},[l(g)==="image"?(r(),n("img",{key:0,src:l(a),loading:"lazy"},null,8,j)):(r(),n("video",{key:1,src:l(a),preload:"metadata",autoplay:"",loop:"",muted:""},null,8,T))],64))],2)],6)}}}),F="_avatar_1dtg5_1",I="_inner_1dtg5_8",M="_fallback_1dtg5_21",S="_glow_1dtg5_32",V="_border_1dtg5_35",N={avatar:F,inner:I,fallback:M,glow:S,border:V},R={$style:N},G=Object.assign($(z,[["__cssModules",R]]),{__name:"Avatar"});function L(t){let e=0;for(let s=0;s<t.length;s++)e=t.charCodeAt(s)+((e<<5)-e);return`hsl(${e%360}, 85%, 35%)`}export{G as _,A as d,L as s};
